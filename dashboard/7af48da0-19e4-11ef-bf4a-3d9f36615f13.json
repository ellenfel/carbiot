{
  "entityType" : "DASHBOARD",
  "entity" : {
    "assignedCustomers" : null,
    "configuration" : {
      "description" : "",
      "widgets" : {
        "5fc486a3-cfb2-ae7a-21ee-35531e88563e" : {
          "type" : "latest",
          "sizeX" : 8.5,
          "sizeY" : 6,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "0813fdcd-9ed7-a737-74fd-13c978a9a1ab",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "name",
                "type" : "entityField",
                "label" : "Name",
                "color" : "#f44336",
                "settings" : { },
                "_hash" : 0.848379539472371
              }, {
                "name" : "perimeter",
                "type" : "attribute",
                "label" : "perimeter",
                "color" : "#ffc107",
                "settings" : { },
                "_hash" : 0.7803202333041441
              }, {
                "name" : "cropType",
                "type" : "attribute",
                "label" : "cropType",
                "color" : "#f44336",
                "settings" : { },
                "_hash" : 0.13560061274453417
              }, {
                "name" : "avgMoisture",
                "type" : "timeseries",
                "label" : "avgMoisture",
                "color" : "#ffc107",
                "settings" : { },
                "_hash" : 0.011152801250584377
              }, {
                "name" : "minMoistureThreshold",
                "type" : "attribute",
                "label" : "minMoistureThreshold",
                "color" : "#8bc34a",
                "settings" : { },
                "_hash" : 0.4441224029270672
              }, {
                "name" : "maxMoistureThreshold",
                "type" : "attribute",
                "label" : "maxMoistureThreshold",
                "color" : "#3f51b5",
                "settings" : { },
                "_hash" : 0.024053653116780316
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1695017847770,
                  "endTimeMs" : 1695104247770
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0,0,0,0.87)",
            "padding" : "0px",
            "settings" : {
              "provider" : "openstreet-map",
              "gmApiKey" : "AIzaSyDoEx2kaGz3PxwbI9T7ccTSg5xjdw8Nw8Q",
              "gmDefaultMapType" : "roadmap",
              "mapProvider" : "Esri.WorldImagery",
              "useCustomProvider" : false,
              "customProviderTileUrl" : "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
              "mapProviderHere" : "HERE.normalDay",
              "credentials" : {
                "app_id" : "AhM6TzD9ThyK78CT3ptx",
                "app_code" : "p6NPiITB3Vv0GMUFnkLOOg"
              },
              "mapImageUrl" : "tb-image:aGVyZV9tYXBfc3lzdGVtX3dpZGdldF9tYXBfaW1hZ2Uuc3Zn:IkhFUkUgTWFwIiBzeXN0ZW0gd2lkZ2V0IG1hcCBpbWFnZQ==;data:image/svg+xml;base64,PHN2ZyBpZD0ic3ZnMiIgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTAwIiB3aWR0aD0iMTAwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgdmlld0JveD0iMCAwIDEwMCAxMDAiPgogPGcgaWQ9ImxheWVyMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAtOTUyLjM2KSI+CiAgPHJlY3QgaWQ9InJlY3Q0Njg0IiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBoZWlnaHQ9Ijk5LjAxIiB3aWR0aD0iOTkuMDEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiB5PSI5NTIuODYiIHg9Ii40OTUwNSIgc3Ryb2tlLXdpZHRoPSIuOTkwMTAiIGZpbGw9IiNlZWUiLz4KICA8dGV4dCBpZD0idGV4dDQ2ODYiIHN0eWxlPSJ3b3JkLXNwYWNpbmc6MHB4O2xldHRlci1zcGFjaW5nOjBweDt0ZXh0LWFuY2hvcjptaWRkbGU7dGV4dC1hbGlnbjpjZW50ZXIiIGZvbnQtd2VpZ2h0PSJib2xkIiB4bWw6c3BhY2U9InByZXNlcnZlIiBmb250LXNpemU9IjEwcHgiIGxpbmUtaGVpZ2h0PSIxMjUlIiB5PSI5NzAuNzI4MDkiIHg9IjQ5LjM5NjQ3NyIgZm9udC1mYW1pbHk9IlJvYm90byIgZmlsbD0iIzY2NjY2NiI+PHRzcGFuIGlkPSJ0c3BhbjQ2OTAiIHg9IjUwLjY0NjQ3NyIgeT0iOTcwLjcyODA5Ij5JbWFnZSBiYWNrZ3JvdW5kIDwvdHNwYW4+PHRzcGFuIGlkPSJ0c3BhbjQ2OTIiIHg9IjQ5LjM5NjQ3NyIgeT0iOTgzLjIyODA5Ij5pcyBub3QgY29uZmlndXJlZDwvdHNwYW4+PC90ZXh0PgogIDxyZWN0IGlkPSJyZWN0NDY5NCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgaGVpZ2h0PSIxOS4zNiIgd2lkdGg9IjY5LjM2IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgeT0iOTkyLjY4IiB4PSIxNS4zMiIgc3Ryb2tlLXdpZHRoPSIuNjM5ODYiIGZpbGw9Im5vbmUiLz4KIDwvZz4KPC9zdmc+Cg==",
              "tmApiKey" : "84d6d83e0e51e481e50454ccbe8986b",
              "tmDefaultMapType" : "roadmap",
              "latKeyName" : "1",
              "lngKeyName" : "1",
              "xPosKeyName" : "xPos",
              "yPosKeyName" : "yPos",
              "defaultCenterPosition" : "0,0",
              "disableScrollZooming" : false,
              "disableDoubleClickZooming" : false,
              "disableZoomControl" : false,
              "fitMapBounds" : true,
              "useDefaultCenterPosition" : false,
              "mapPageSize" : 16384,
              "markerOffsetX" : 0.5,
              "markerOffsetY" : 1,
              "posFunction" : "return {x: origXPos, y: origYPos};",
              "draggableMarker" : false,
              "showLabel" : true,
              "useLabelFunction" : false,
              "label" : "${entityName}",
              "showTooltip" : true,
              "showTooltipAction" : "click",
              "autocloseTooltip" : true,
              "useTooltipFunction" : false,
              "tooltipPattern" : "<b>${entityName}</b><br/><br/><b>Latitude:</b> ${latitude:7}<br/><b>Longitude:</b> ${longitude:7}<br/><b>Temperature:</b> ${temperature} °C<br/><small>See advanced settings for details</small>",
              "tooltipOffsetX" : 0,
              "tooltipOffsetY" : -1,
              "color" : "#fe7569",
              "useColorFunction" : false,
              "useMarkerImageFunction" : false,
              "markerImageSize" : 34,
              "markerImages" : [ ],
              "showPolygon" : true,
              "polygonKeyName" : "perimeter",
              "editablePolygon" : false,
              "showPolygonLabel" : true,
              "usePolygonLabelFunction" : true,
              "polygonLabelFunction" : "var html = '<div>';\nhtml += '<div style=\"color: #FFF; font-weight: 600; text-align: center; padding-bottom: 8px;\">${entityName} (${cropType})</div>';\n\nvar avgMoisture = data['avgMoisture'];\nvar avgMoistureText = avgMoisture !== '' ?  Number(avgMoisture).toFixed(1) + '%' : 'n/a';\nvar minMoistureThreshold = data['minMoistureThreshold'];\nvar maxMoistureThreshold = data['maxMoistureThreshold'];\nvar color = '#FFFFFF';\nvar textColor = '#000000';\nif (avgMoisture < minMoistureThreshold || avgMoisture > maxMoistureThreshold) {\n    color = '#D12730';\n    textColor = '#FFFFFF';\n}\n\nhtml += '<div style=\"text-align: center;\"><span style=\"background: ' + color + '; color: ' + textColor + '; border-radius: 8px; padding: 4px;\">'+avgMoistureText+'</span></div>';\n\nhtml += '<div>';\n\nreturn html;",
              "showPolygonTooltip" : false,
              "polygonColor" : "#3388ff",
              "polygonOpacity" : 0.2,
              "usePolygonColorFunction" : false,
              "polygonStrokeColor" : "#3388ff",
              "polygonStrokeOpacity" : 1,
              "polygonStrokeWeight" : 3,
              "usePolygonStrokeColorFunction" : false,
              "showCircle" : false,
              "circleKeyName" : "perimeter",
              "editableCircle" : false,
              "showCircleLabel" : false,
              "useCircleLabelFunction" : false,
              "circleLabel" : "${entityName}",
              "showCircleTooltip" : false,
              "showCircleTooltipAction" : "click",
              "autoCloseCircleTooltip" : true,
              "useCircleTooltipFunction" : false,
              "circleTooltipPattern" : "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
              "circleFillColor" : "#3388ff",
              "circleFillColorOpacity" : 0.2,
              "useCircleFillColorFunction" : false,
              "circleStrokeColor" : "#3388ff",
              "circleStrokeOpacity" : 1,
              "circleStrokeWeight" : 3,
              "useCircleStrokeColorFunction" : false,
              "useClusterMarkers" : false,
              "zoomOnClick" : true,
              "maxClusterRadius" : 80,
              "animate" : true,
              "spiderfyOnMaxZoom" : false,
              "showCoverageOnHover" : true,
              "chunkedLoading" : false,
              "removeOutsideVisibleBounds" : true
            },
            "title" : "Fields",
            "dropShadow" : true,
            "enableFullscreen" : true,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "widgetStyle" : { },
            "actions" : {
              "markerClick" : [ ],
              "polygonClick" : [ {
                "name" : "Field details",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "field",
                "setEntityId" : true,
                "stateEntityParamName" : null,
                "openRightLayout" : false,
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "6feadbe9-7088-fccc-2cbc-dcde695df002"
              } ]
            },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "5fc486a3-cfb2-ae7a-21ee-35531e88563e",
          "typeFullFqn" : "system.maps_v2.openstreetmap"
        },
        "d4dec610-2b77-e9a5-f07b-23ca1035bf04" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 6.5,
          "config" : {
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1695017847770,
                  "endTimeMs" : 1695104247770
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 200
              }
            },
            "showTitle" : true,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "entitiesTitle" : "Araziler",
              "enableSearch" : true,
              "enableSelectColumnDisplay" : true,
              "enableStickyHeader" : true,
              "enableStickyAction" : true,
              "reserveSpaceForHiddenAction" : "true",
              "displayEntityName" : false,
              "displayEntityLabel" : false,
              "displayEntityType" : false,
              "displayPagination" : true,
              "defaultPageSize" : 10,
              "defaultSortOrder" : "Name",
              "useRowStyleFunction" : false
            },
            "title" : "New Entities table",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400,
              "padding" : "5px 10px 5px 10px"
            },
            "useDashboardTimewindow" : false,
            "showLegend" : false,
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "0813fdcd-9ed7-a737-74fd-13c978a9a1ab",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "name",
                "type" : "entityField",
                "label" : "Arazi",
                "color" : "#ffc107",
                "settings" : {
                  "columnWidth" : "30%",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : false,
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.7231686834210371,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "label",
                "type" : "entityField",
                "label" : "Etiket",
                "color" : "#2196f3",
                "settings" : {
                  "columnWidth" : "30%",
                  "useCellStyleFunction" : true,
                  "cellStyleFunction" : "return {\n    fontWeight: 600\n};",
                  "useCellContentFunction" : true,
                  "cellContentFunction" : "return value ? '<span style=\"background: rgba(111, 116, 242, 0.08); border-radius: 16px; padding: 4px 8px; color: #5553AF;\">'+value+'</span>' : '';",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.7427597097428846,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "cropType",
                "type" : "attribute",
                "label" : "Mahsul Türü",
                "color" : "#4caf50",
                "settings" : {
                  "columnWidth" : "20%",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : false,
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.45735173845667054,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "avgMoisture",
                "type" : "timeseries",
                "label" : "Ortalama Nem",
                "color" : "#f44336",
                "settings" : {
                  "columnWidth" : "20%",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : true,
                  "cellContentFunction" : "if (value) {\n    var minMoistureThreshold = entity['minMoistureThreshold'];\n    var maxMoistureThreshold = entity['maxMoistureThreshold'];\n    var background = '111, 116, 242';\n    var textColor = '#5553AF';\n    if (value < minMoistureThreshold || value > maxMoistureThreshold) {\n        background = '209, 39, 48';\n        textColor = '#D12730';\n    }\n    var percent = value + '%';\n    var percentText = value.toFixed(0) + '%';\n    return '<div style=\"width: 100%; max-width: 100px; height: 16px; background: linear-gradient(to right, rgba('+background+', 0.16) '+percent+', rgba('+background+', 0.08) '+percent+'); border-radius: 5.21053px;\"><span style=\"padding-left: 4px; font-weight: 600; font-size: 13px; color: '+textColor+';\">'+percentText+'</span></div>';\n} else {\n    return 'No data';\n}",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.017767185128356955,
                "aggregationType" : "NONE",
                "units" : "%",
                "decimals" : 0,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "minMoistureThreshold",
                "type" : "attribute",
                "label" : "minMoistureThreshold",
                "color" : "#8bc34a",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : false,
                  "defaultColumnVisibility" : "hidden",
                  "columnSelectionToDisplay" : "disabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.5565658823011432,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "maxMoistureThreshold",
                "type" : "attribute",
                "label" : "maxMoistureThreshold",
                "color" : "#3f51b5",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : false,
                  "defaultColumnVisibility" : "hidden",
                  "columnSelectionToDisplay" : "disabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.860782325530304,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "irrigationState",
                "type" : "timeseries",
                "label" : "Sulama Durumu",
                "color" : "#8bc34a",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : true,
                  "cellContentFunction" : "var text = value === 'ON' ? 'On' : 'Off';\nvar color = value === 'ON' ? '#198038' : 'red';\nreturn '<div><span style=\"width: 4px; height: 4px; border-radius: 2px; background: '+color+'; display: inline-block; vertical-align: middle;\"></span><span style=\"padding-left: 8px;\">'+text+'</span></div>';",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.20197437452090683,
                "aggregationType" : "NONE",
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ]
            } ],
            "displayTimewindow" : true,
            "actions" : {
              "rowClick" : [ {
                "name" : "Arazi detayları",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "field",
                "setEntityId" : true,
                "stateEntityParamName" : null,
                "openRightLayout" : false,
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "9fac49b3-0e6b-9beb-56a7-6da9cec34984"
              } ],
              "headerButton" : [ {
                "name" : "Arazi oluştur",
                "icon" : "add",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addFieldForm=\"ngForm\" [formGroup]=\"addFieldFormGroup\"\n      (ngSubmit)=\"submit()\" class=\"sf-field-form\">\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\n        <h2>{{ step === 1 ? 'Add field' : 'Setup field polygon' }}</h2>\n        <span fxFlex></span>\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\n            <mat-icon class=\"material-icons\">close</mat-icon>\n        </button>\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n        <section *ngIf=\"step === 1\" fxLayout=\"column\">\n            <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\">\n                <mat-form-field fxFlex class=\"mat-block\">\n                    <mat-label>Field Name</mat-label>\n                    <input matInput formControlName=\"name\" required>\n                    <mat-error *ngIf=\"addFieldFormGroup.get('name').hasError('required')\">\n                        Field name is required.\n                    </mat-error>\n                </mat-form-field>\n                <mat-form-field fxFlex class=\"mat-block\">\n                    <mat-label>Label</mat-label>\n                    <input matInput formControlName=\"label\">\n                </mat-form-field>\n            </div>\n            <mat-form-field appearance=\"fill\">\n              <mat-label>Crop type</mat-label>\n              <mat-select matInput formControlName=\"cropType\" required>\n                <mat-option *ngFor=\"let cropType of cropTypes\" [value]=\"cropType\">\n                  {{ cropType }}\n                </mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"addFieldFormGroup.get('cropType').hasError('required')\">\n                    Crop type is required.\n              </mat-error>\n            </mat-form-field>\n            <span class=\"title-modal\" style=\"padding-left: 8px;\">Moisture thresholds</span>\n            <div fxLayout=\"column\">\n                <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" style=\"padding: 0 8px;\">\n                    <label class=\"tb-small\">Min</label>\n                    <label class=\"tb-small threshold-value\">{{ addFieldFormGroup.get('minMoistureThreshold').value }}%</label>\n                </div>\n                <mat-slider\n                    color=\"primary\"\n                    formControlName=\"minMoistureThreshold\"\n                    thumbLabel\n                    [displayWith]=\"formatMoistureThreshold\"\n                    tickInterval=\"auto\"\n                    step=\"1\"\n                    min=\"0\"\n                    max=\"100\"\n                    aria-label=\"Minimum moisture threshold\">\n                </mat-slider>\n            </div>    \n            <div fxLayout=\"column\">\n                <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" style=\"padding: 0 8px;\">\n                    <label class=\"tb-small\">Max</label>\n                    <label class=\"tb-small threshold-value\">{{ addFieldFormGroup.get('maxMoistureThreshold').value }}%</label>\n                </div>\n                <mat-slider\n                    color=\"primary\"\n                    formControlName=\"maxMoistureThreshold\"\n                    thumbLabel\n                    [displayWith]=\"formatMoistureThreshold\"\n                    tickInterval=\"auto\"\n                    step=\"1\"\n                    min=\"0\"\n                    max=\"100\"\n                    aria-label=\"Maximum moisture threshold\">\n                </mat-slider>\n            </div>    \n        </section>\n        <section *ngIf=\"step === 2\" fxLayout=\"column\">\n            <tb-dashboard-state \n                style=\"height: 600px; width: 100%;\"\n                [ctx]=\"widgetContext\"\n                stateId=\"setup_field_polygon\"\n                [entityId]=\"field.id\">\n            </tb-dashboard-state>\n        </section>\n    </div>\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\n        <button *ngIf=\"step === 1\" mat-button color=\"primary\"\n                type=\"button\"\n                [disabled]=\"(isLoading$ | async)\"\n                (click)=\"cancel()\" cdkFocusInitial>\n            Cancel\n        </button>\n        <button *ngIf=\"step === 1\" mat-button mat-raised-button color=\"primary\"\n                type=\"button\"\n                (click)=\"next()\"\n                [disabled]=\"(isLoading$ | async) || addFieldFormGroup.invalid\">\n            Next\n        </button>\n        <button *ngIf=\"step === 2\" mat-button color=\"primary\"\n                type=\"button\"\n                [disabled]=\"(isLoading$ | async)\"\n                (click)=\"back()\" cdkFocusInitial>\n            Back\n        </button>\n        <button *ngIf=\"step === 2\" mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addFieldFormGroup.invalid || !hasPolygon\">\n            Create\n        </button>\n    </div>\n</form>\n",
                "customCss" : ".sf-field-form {\n    width: 800px;\n}\n\n.sf-field-form .mat-toolbar.mat-primary {\n    background: #fff;\n    color: rgba(0, 0, 0, 0.87);\n}\n\n.sf-field-form .mat-button.mat-primary, .sf-field-form .mat-icon-button.mat-primary, .sf-field-form .mat-stroked-button.mat-primary {\n    color: #5553AF;\n}\n\n.sf-field-form .mat-fab.mat-primary, .sf-field-form .mat-flat-button.mat-primary, .sf-field-form .mat-mini-fab.mat-primary, .sf-field-form .mat-raised-button.mat-primary {\n    color: #fff;\n}\n\n.sf-field-form .mat-fab.mat-primary, .sf-field-form .mat-flat-button.mat-primary, .sf-field-form .mat-mini-fab.mat-primary, .sf-field-form .mat-raised-button.mat-primary {\n    background-color: #6F74F2;\n}\n\n.sf-field-form .mat-button.mat-primary .mat-button-focus-overlay, .sf-field-form .mat-icon-button.mat-primary .mat-button-focus-overlay, .sf-field-form .mat-stroked-button.mat-primary .mat-button-focus-overlay {\n    background-color: #6F74F2;\n}\n\n.sf-field-form .mat-form-field.mat-focused .mat-form-field-label {\n    color: #5553AF;\n}\n\n.sf-field-form .mat-form-field.mat-focused .mat-form-field-ripple {\n    background-color: #6F74F2;\n}\n\n.sf-field-form .mat-slide-toggle.mat-checked .mat-ripple-element, .sf-field-form .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb {\n    background-color: #6F74F2;\n}\n\n.sf-field-form .mat-slide-toggle.mat-checked .mat-slide-toggle-bar {\n    background-color: rgba(111, 116, 242, 0.54);\n}\n\n.sf-field-form .mat-datetimepicker-calendar-header {\n    background-color: #6F74F2;\n}\n\n.sf-field-form .mat-datetimepicker-calendar-body-cell-content.mat-datetimepicker-calendar-body-selected {\n    background-color: #6F74F2;\n}\n\n.sf-field-form .mat-datetimepicker-clock-cell.mat-datetimepicker-clock-cell-selected {\n    background-color: #8689f4;\n}\n\n.sf-field-form .mat-datetimepicker-clock-center, .sf-field-form .mat-datetimepicker-clock-hand, .sf-field-form .mat-datetimepicker-clock-hand:before {\n    background-color: #6F74F2;\n}\n\n.sf-field-form .mat-datetimepicker-calendar-body-cell-content.mat-datetimepicker-calendar-body-today:not(.mat-datetimepicker-calendar-body-selected) {\n    border-color: #6F74F2;\n}\n\n.sf-field-form .mat-icon {\n    color: #868D9C;\n}\n\n.sf-field-form .title-modal {\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 130%;\n    color: #868D9C;\n    padding-bottom: 8px;\n}\n\n.sf-field-form .mat-button-toggle-group-appearance-standard, .sf-field-form .mat-button-toggle-standalone.mat-button-toggle-appearance-standard {\n    border: none;\n}\n\n.sf-field-form .mat-button-toggle {\n    background: rgba(0, 0, 0, 0.06);\n    height: 32px;\n    align-items: center;\n    display: flex;\n}\n\n.sf-field-form .mat-button-toggle-checked .mat-button-toggle-button {\n    background-color: #fff;\n    border-radius: 4px;\n    margin-left: 2px;\n    margin-right: 2px;\n}\n\n.sf-field-form .mat-button-toggle-appearance-standard .mat-button-toggle-label-content {\n    line-height: 28px;\n    font-size: 14px;\n}\n\n.sf-field-form .mat-button-toggle-group-appearance-standard .mat-button-toggle+.mat-button-toggle {\n    border-left: none;\n}\n\n.sf-field-form .mat-button-toggle-checked.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay {\n    opacity: .01;\n}\n\n.sf-field-form .mat-button.weekly-repeat {\n    padding: 0 15px;\n    min-width: 0;\n}\n\n.sf-field-form .mat-button.weekly-repeat.no-border {\n    padding: 0 16px;\n}\n\n.sf-field-form .mat-slider {\n    padding: 8px 0;\n}\n\n.sf-field-form .mat-primary .mat-slider-thumb, .sf-field-form .mat-primary .mat-slider-thumb-label, .sf-field-form .mat-primary .mat-slider-track-fill {\n    background-color: #6F74F2;\n}\n\n.sf-field-form .title-modal {\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 130%;\n    color: #868D9C;\n    padding-bottom: 8px;\n}\n\n.sf-field-form .threshold-value {\n    color: #fff;\n    font-weight: 500;\n    background: #6F74F2;\n    border-radius: 16px;\n    width: 32px;\n    height: 32px;\n    line-height: 32px;\n    text-align: center;\n}\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\nlet assetService = $injector.get(widgetContext.servicesMap.get('assetService'));\nlet entityGroupService = $injector.get(widgetContext.servicesMap.get('entityGroupService'));\nlet attributeService = $injector.get(widgetContext.servicesMap.get('attributeService'));\n\nopenAddFieldDialog();\n\nfunction openAddFieldDialog() {\n    customDialog.customDialog(htmlTemplate, AddFieldDialogController).subscribe();\n}\n\nfunction AddFieldDialogController(instance) {\n    let vm = instance;\n    \n    vm.cropTypes = ['rice', 'corn', 'wheat', \n    'sugarcane', 'maize (corn)', 'soybean oil', 'palm oil', 'potatoes',\n    'cassava', 'legume pulses', 'sunflower seed oil', 'rape and mustard oil',\n    'other vegetables', 'other fruits', 'sorghum', 'millet', 'groundnuts', 'beans',\n    'sweet potatoes', 'bananas', 'various nuts', 'soybeans', 'cottonseed oil',\n    'groundnut oil', 'yams'];\n    \n    vm.widgetContext = widgetContext;\n    vm.step = 1;\n    vm.field = null;\n    \n    vm.hasPolygon = false;\n    vm.polygonSubscription = null;\n\n\n    vm.addFieldFormGroup = vm.fb.group({\n      name: ['', [vm.validators.required]],\n      label: [null],\n      cropType: ['wheat', [vm.validators.required]],\n      minMoistureThreshold: [25, [vm.validators.required, vm.validators.min(0), vm.validators.max(100)]],\n      maxMoistureThreshold: [75, [vm.validators.required, vm.validators.min(0), vm.validators.max(100)]]\n    });\n\n    vm.cancel = function() {\n        cancelPolygonSubscription();\n        deleteEntityObservable().subscribe(\n            function () {\n                widgetContext.updateAliases();\n                vm.dialogRef.close(null);\n            }\n        );\n    };\n\n    vm.next = function() {\n        vm.addFieldFormGroup.markAsPristine();\n        saveEntityObservable().subscribe(\n            function (entity) {\n                vm.field = entity;\n                widgetContext.rxjs.forkJoin([\n                    saveAttributes(entity.id),\n                ]).subscribe(\n                    function () {\n                        createPolygonSubscription().subscribe(\n                            function() {\n                                vm.step = 2;\n                            }\n                        );\n                    }\n                );\n            }\n        );\n    };\n    \n    vm.back = function() {\n        cancelPolygonSubscription();\n        vm.step = 1;\n    }\n    \n    vm.submit = function() {\n        cancelPolygonSubscription();\n        widgetContext.updateAliases();\n        vm.dialogRef.close(null);\n    }\n    \n    vm.formatMoistureThreshold = function(value) {\n        return value + '%';\n    }\n    \n    function createPolygonSubscription() {\n        var subscriptionInfo = {\n            type: 'entity',\n            entityType: vm.field.id.entityType,\n            entityId: vm.field.id.id,\n            attributes: [{ name: 'perimeter' }]\n        };\n        var options = {\n            callbacks: {\n                onDataUpdated: function(subscription) {\n                    checkHasPolygon(subscription.data);\n                }\n            }\n        };\n        return widgetContext.subscriptionApi.createSubscriptionFromInfo(\n                            'latest', [ subscriptionInfo ], options, false, true).pipe(\n            widgetContext.rxjs.tap(function(polygonSubscription) {\n                vm.polygonSubscription = polygonSubscription;\n            })\n        );\n        \n    }\n    \n    function checkHasPolygon(data) {\n        var datasourceData = data[0].data;\n        var keyData = datasourceData[0];\n        var value = keyData[1];\n        if (value && Array.isArray(JSON.parse(value))) {\n            vm.hasPolygon = true;\n        } else {\n            vm.hasPolygon = false;\n        }\n    }\n    \n    function cancelPolygonSubscription() {\n        if (vm.polygonSubscription) {\n            widgetContext.subscriptionApi.removeSubscription(vm.polygonSubscription.id);\n            vm.polygonSubscription = null;\n        }\n    }\n\n    function saveEntityObservable() {\n        return getOrCreateSmartIrrigationAssetGroup().pipe(\n          widgetContext.rxjs.switchMap((smartIrrigation) => {\n            const formValues = vm.addFieldFormGroup.value;\n            let field = {\n                name: formValues.name,\n                type: 'SI Field',\n                label: formValues.label\n            };\n            if (vm.field) {\n                field.id = vm.field.id;\n            }\n            return assetService.saveAsset(field, smartIrrigation.id.id);\n          })\n        );\n    }\n    \n    function deleteEntityObservable() {\n        if (vm.field) {\n            return assetService.deleteAsset(vm.field.id.id);\n        } else {\n            return widgetContext.rxjs.of(null);\n        }\n    }\n\n    function saveAttributes(entityId) {\n        let cropType = vm.addFieldFormGroup.get('cropType').value;\n        let minMoistureThreshold = vm.addFieldFormGroup.get('minMoistureThreshold').value;\n        let maxMoistureThreshold = vm.addFieldFormGroup.get('maxMoistureThreshold').value;\n        let attributesArray = [\n            {key: 'cropType', value: cropType},\n            {key: 'minMoistureThreshold', value: minMoistureThreshold},\n            {key: 'maxMoistureThreshold', value: maxMoistureThreshold}\n        ];\n        return attributeService.saveEntityAttributes(entityId, \"SERVER_SCOPE\", attributesArray);\n    }\n    \n    function getOrCreateSmartIrrigationAssetGroup() {\n      return getEntityGroupByName(\"Smart Irrigation\", \"ASSET\").pipe(\n          widgetContext.rxjs.switchMap((group) => {\n              if (group) {\n                  return widgetContext.rxjs.of(group);\n              } else {\n                  var smartIrrigation = {\n                    type: 'ASSET',\n                    name: 'Smart Irrigation'\n                  };\n                  return entityGroupService.saveEntityGroup(smartIrrigation);\n              }\n          })\n      );\n    }\n    \n    function getEntityGroupByName(groupName, groupType) {\n      var entityGroupsPageLink = widgetContext.pageLink(10, 0, groupName);\n      return entityGroupService.getEntityGroupsByPageLink(entityGroupsPageLink, groupType, {ignoreLoading: true}).pipe(\n          widgetContext.rxjs.map((data) => {\n            if (data.data.length) {\n                return data.data.find((group) => group.name === groupName);\n            } else {\n                return null;\n            }\n          })\n      );\n    }\n\n}\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "5b9d0130-b8ab-4103-0223-90a4530d425f"
              } ],
              "actionCellButton" : [ {
                "name" : "Araziyi düzenle",
                "icon" : "edit",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addFieldForm=\"ngForm\" [formGroup]=\"editFieldFormGroup\"\n      (ngSubmit)=\"save()\" class=\"sf-field-form\">\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\n        <h2>Edit field '{{ entityName }}'</h2>\n        <span fxFlex></span>\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\n            <mat-icon class=\"material-icons\">close</mat-icon>\n        </button>\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n        <section fxLayout=\"column\">\n            <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\">\n                <mat-form-field fxFlex class=\"mat-block\">\n                    <mat-label>Field Name</mat-label>\n                    <input matInput formControlName=\"name\" required>\n                    <mat-error *ngIf=\"editFieldFormGroup.get('name').hasError('required')\">\n                        Field name is required.\n                    </mat-error>\n                </mat-form-field>\n                <mat-form-field fxFlex class=\"mat-block\">\n                    <mat-label>Label</mat-label>\n                    <input matInput formControlName=\"label\">\n                </mat-form-field>\n            </div>\n            <mat-form-field appearance=\"fill\">\n              <mat-label>Crop type</mat-label>\n              <mat-select matInput formControlName=\"cropType\" required>\n                <mat-option *ngFor=\"let cropType of cropTypes\" [value]=\"cropType\">\n                  {{ cropType }}\n                </mat-option>\n              </mat-select>\n              <mat-error *ngIf=\"editFieldFormGroup.get('cropType').hasError('required')\">\n                    Crop type is required.\n              </mat-error>\n            </mat-form-field>\n            <span class=\"title-modal\" style=\"padding-left: 8px;\">Moisture thresholds</span>\n            <div fxLayout=\"column\">\n                <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" style=\"padding: 0 8px;\">\n                    <label class=\"tb-small\">Min</label>\n                    <label class=\"tb-small threshold-value\">{{ editFieldFormGroup.get('minMoistureThreshold').value }}%</label>\n                </div>\n                <mat-slider\n                    color=\"primary\"\n                    formControlName=\"minMoistureThreshold\"\n                    thumbLabel\n                    [displayWith]=\"formatMoistureThreshold\"\n                    tickInterval=\"auto\"\n                    step=\"1\"\n                    min=\"0\"\n                    max=\"100\"\n                    aria-label=\"Minimum moisture threshold\">\n                </mat-slider>\n            </div>    \n            <div fxLayout=\"column\">\n                <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" style=\"padding: 0 8px;\">\n                    <label class=\"tb-small\">Max</label>\n                    <label class=\"tb-small threshold-value\">{{ editFieldFormGroup.get('maxMoistureThreshold').value }}%</label>\n                </div>\n                <mat-slider\n                    color=\"primary\"\n                    formControlName=\"maxMoistureThreshold\"\n                    thumbLabel\n                    [displayWith]=\"formatMoistureThreshold\"\n                    tickInterval=\"auto\"\n                    step=\"1\"\n                    min=\"0\"\n                    max=\"100\"\n                    aria-label=\"Maximum moisture threshold\">\n                </mat-slider>\n            </div>\n        </section>\n        <section fxLayout=\"column\">\n            <tb-dashboard-state \n                style=\"height: 600px; width: 100%;\"\n                [ctx]=\"widgetContext\"\n                stateId=\"setup_field_polygon\"\n                [entityId]=\"entityId\">\n            </tb-dashboard-state>\n        </section>\n    </div>\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\n        <button mat-button color=\"primary\"\n                type=\"button\"\n                [disabled]=\"(isLoading$ | async)\"\n                (click)=\"cancel()\" cdkFocusInitial>\n            Cancel\n        </button>\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || editFieldFormGroup.invalid || !(editFieldFormGroup.dirty || polygonChanged) || !hasPolygon\">\n            Save\n        </button>\n    </div>\n</form>\n",
                "customCss" : ".sf-field-form {\n    width: 800px;\n}\n\n.sf-field-form .mat-toolbar.mat-primary {\n    background: #fff;\n    color: rgba(0, 0, 0, 0.87);\n}\n\n.sf-field-form .mat-button.mat-primary, .sf-field-form .mat-icon-button.mat-primary, .sf-field-form .mat-stroked-button.mat-primary {\n    color: #5553AF;\n}\n\n.sf-field-form .mat-fab.mat-primary, .sf-field-form .mat-flat-button.mat-primary, .sf-field-form .mat-mini-fab.mat-primary, .sf-field-form .mat-raised-button.mat-primary {\n    color: #fff;\n}\n\n.sf-field-form .mat-fab.mat-primary, .sf-field-form .mat-flat-button.mat-primary, .sf-field-form .mat-mini-fab.mat-primary, .sf-field-form .mat-raised-button.mat-primary {\n    background-color: #6F74F2;\n}\n\n.sf-field-form .mat-button.mat-primary .mat-button-focus-overlay, .sf-field-form .mat-icon-button.mat-primary .mat-button-focus-overlay, .sf-field-form .mat-stroked-button.mat-primary .mat-button-focus-overlay {\n    background-color: #6F74F2;\n}\n\n.sf-field-form .mat-form-field.mat-focused .mat-form-field-label {\n    color: #5553AF;\n}\n\n.sf-field-form .mat-form-field.mat-focused .mat-form-field-ripple {\n    background-color: #6F74F2;\n}\n\n.sf-field-form .mat-slide-toggle.mat-checked .mat-ripple-element, .sf-field-form .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb {\n    background-color: #6F74F2;\n}\n\n.sf-field-form .mat-slide-toggle.mat-checked .mat-slide-toggle-bar {\n    background-color: rgba(111, 116, 242, 0.54);\n}\n\n.sf-field-form .mat-datetimepicker-calendar-header {\n    background-color: #6F74F2;\n}\n\n.sf-field-form .mat-datetimepicker-calendar-body-cell-content.mat-datetimepicker-calendar-body-selected {\n    background-color: #6F74F2;\n}\n\n.sf-field-form .mat-datetimepicker-clock-cell.mat-datetimepicker-clock-cell-selected {\n    background-color: #8689f4;\n}\n\n.sf-field-form .mat-datetimepicker-clock-center, .sf-field-form .mat-datetimepicker-clock-hand, .sf-field-form .mat-datetimepicker-clock-hand:before {\n    background-color: #6F74F2;\n}\n\n.sf-field-form .mat-datetimepicker-calendar-body-cell-content.mat-datetimepicker-calendar-body-today:not(.mat-datetimepicker-calendar-body-selected) {\n    border-color: #6F74F2;\n}\n\n.sf-field-form .mat-icon {\n    color: #868D9C;\n}\n\n.sf-field-form .title-modal {\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 130%;\n    color: #868D9C;\n    padding-bottom: 8px;\n}\n\n.sf-field-form .mat-button-toggle-group-appearance-standard, .sf-field-form .mat-button-toggle-standalone.mat-button-toggle-appearance-standard {\n    border: none;\n}\n\n.sf-field-form .mat-button-toggle {\n    background: rgba(0, 0, 0, 0.06);\n    height: 32px;\n    align-items: center;\n    display: flex;\n}\n\n.sf-field-form .mat-button-toggle-checked .mat-button-toggle-button {\n    background-color: #fff;\n    border-radius: 4px;\n    margin-left: 2px;\n    margin-right: 2px;\n}\n\n.sf-field-form .mat-button-toggle-appearance-standard .mat-button-toggle-label-content {\n    line-height: 28px;\n    font-size: 14px;\n}\n\n.sf-field-form .mat-button-toggle-group-appearance-standard .mat-button-toggle+.mat-button-toggle {\n    border-left: none;\n}\n\n.sf-field-form .mat-button-toggle-checked.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay {\n    opacity: .01;\n}\n\n.sf-field-form .mat-button.weekly-repeat {\n    padding: 0 15px;\n    min-width: 0;\n}\n\n.sf-field-form .mat-button.weekly-repeat.no-border {\n    padding: 0 16px;\n}\n\n.sf-field-form .mat-slider {\n    padding: 8px 0;\n}\n\n.sf-field-form .mat-primary .mat-slider-thumb, .sf-field-form .mat-primary .mat-slider-thumb-label, .sf-field-form .mat-primary .mat-slider-track-fill {\n    background-color: #6F74F2;\n}\n\n.sf-field-form .title-modal {\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 130%;\n    color: #868D9C;\n    padding-bottom: 8px;\n}\n\n.sf-field-form .threshold-value {\n    color: #fff;\n    font-weight: 500;\n    background: #6F74F2;\n    border-radius: 16px;\n    width: 32px;\n    height: 32px;\n    line-height: 32px;\n    text-align: center;\n}\n\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\nlet assetService = $injector.get(widgetContext.servicesMap.get('assetService'));\nlet entityGroupService = $injector.get(widgetContext.servicesMap.get('entityGroupService'));\nlet attributeService = $injector.get(widgetContext.servicesMap.get('attributeService'));\n\nopenEditFieldDialog();\n\nfunction openEditFieldDialog() {\n    customDialog.customDialog(htmlTemplate, EditFieldDialogController).subscribe();\n}\n\nfunction EditFieldDialogController(instance) {\n    let vm = instance;\n    \n    vm.entityName = entityName;\n    vm.entityId = entityId;\n    \n    vm.cropTypes = ['rice', 'corn', 'wheat', \n    'sugarcane', 'maize (corn)', 'soybean oil', 'palm oil', 'potatoes',\n    'cassava', 'legume pulses', 'sunflower seed oil', 'rape and mustard oil',\n    'other vegetables', 'other fruits', 'sorghum', 'millet', 'groundnuts', 'beans',\n    'sweet potatoes', 'bananas', 'various nuts', 'soybeans', 'cottonseed oil',\n    'groundnut oil', 'yams'];\n    \n    vm.widgetContext = widgetContext;\n    vm.field = null;\n    \n    vm.perimeter = null;\n    vm.hasPolygon = false;\n    vm.polygonChanged = false;\n    vm.polygonSubscription = null;\n\n\n    vm.editFieldFormGroup = vm.fb.group({\n      name: ['', [vm.validators.required]],\n      label: [null],\n      cropType: [null, [vm.validators.required]],\n      minMoistureThreshold: [null, [vm.validators.required, vm.validators.min(0), vm.validators.max(100)]],\n      maxMoistureThreshold: [null, [vm.validators.required, vm.validators.min(0), vm.validators.max(100)]]\n    });\n\n    vm.cancel = function() {\n        cancelPolygonSubscription();\n        restorePolygon().subscribe(\n            function () {\n                vm.dialogRef.close(null);\n            }\n        );\n    };\n\n    vm.save = function() {\n        vm.editFieldFormGroup.markAsPristine();\n        widgetContext.rxjs.forkJoin([\n            saveAttributes(entityId),\n            saveField()\n        ]).subscribe(\n            function () {\n                cancelPolygonSubscription();\n                widgetContext.updateAliases();\n                vm.dialogRef.close(null);\n            }\n        );\n    };\n    \n    loadField();\n    \n    function createPolygonSubscription() {\n        var subscriptionInfo = {\n            type: 'entity',\n            entityType: vm.field.id.entityType,\n            entityId: vm.field.id.id,\n            attributes: [{ name: 'perimeter' }]\n        };\n        var options = {\n            callbacks: {\n                onDataUpdated: function(subscription) {\n                    checkPolygon(subscription.data);\n                }\n            }\n        };\n        return widgetContext.subscriptionApi.createSubscriptionFromInfo(\n                            'latest', [ subscriptionInfo ], options, false, true).pipe(\n            widgetContext.rxjs.tap(function(polygonSubscription) {\n                vm.polygonSubscription = polygonSubscription;\n            })\n        );\n        \n    }\n    \n    function checkPolygon(data) {\n        var datasourceData = data[0].data;\n        var keyData = datasourceData[0];\n        var value = keyData[1];\n        if (value && Array.isArray(JSON.parse(value))) {\n            vm.hasPolygon = true;\n        } else {\n            vm.hasPolygon = false;\n        }\n        vm.polygonChanged = vm.perimeter !== value;\n    }\n    \n    function cancelPolygonSubscription() {\n        if (vm.polygonSubscription) {\n            widgetContext.subscriptionApi.removeSubscription(vm.polygonSubscription.id);\n            vm.polygonSubscription = null;\n        }\n    }\n\n    function saveField() {\n        const formValues = vm.editFieldFormGroup.value;\n        vm.field.name = formValues.name;\n        vm.field.label = formValues.label;\n        return assetService.saveAsset(vm.field);\n    }\n\n    function saveAttributes(entityId) {\n        let cropType = vm.editFieldFormGroup.get('cropType').value;\n        let minMoistureThreshold = vm.editFieldFormGroup.get('minMoistureThreshold').value;\n        let maxMoistureThreshold = vm.editFieldFormGroup.get('maxMoistureThreshold').value;\n        let attributesArray = [\n            {key: 'cropType', value: cropType},\n            {key: 'minMoistureThreshold', value: minMoistureThreshold},\n            {key: 'maxMoistureThreshold', value: maxMoistureThreshold}\n        ];\n        return attributeService.saveEntityAttributes(entityId, \"SERVER_SCOPE\", attributesArray);\n    }\n    \n    function restorePolygon() {\n        if (vm.polygonChanged) {\n            return attributeService.saveEntityAttributes(vm.field.id, \"SERVER_SCOPE\", [{key: 'perimeter', value: JSON.parse(vm.perimeter)}]);\n        } else {\n            return widgetContext.rxjs.of(null);\n        }\n    }\n    \n    function loadField() {\n        widgetContext.rxjs.forkJoin([\n            attributeService.getEntityAttributes(entityId, 'SERVER_SCOPE', ['cropType', 'minMoistureThreshold', 'maxMoistureThreshold', 'perimeter']),\n            assetService.getAsset(entityId.id)\n        ]).subscribe(\n            function (data) {\n                var attributes = data[0];\n                for (var i = 0; i < attributes.length; i ++) {\n                    if (attributes[i].key === 'cropType') {\n                        var cropType = attributes[i].value;\n                        vm.editFieldFormGroup.get('cropType').patchValue(cropType, {emitEvent: false});\n                    } else if (attributes[i].key === 'minMoistureThreshold') {\n                        var minMoistureThreshold = attributes[i].value;\n                        vm.editFieldFormGroup.get('minMoistureThreshold').patchValue(minMoistureThreshold, {emitEvent: false});\n                    } else if (attributes[i].key === 'maxMoistureThreshold') {\n                        var maxMoistureThreshold = attributes[i].value;\n                        vm.editFieldFormGroup.get('maxMoistureThreshold').patchValue(maxMoistureThreshold, {emitEvent: false});\n                    } else if (attributes[i].key === 'perimeter') {\n                        vm.perimeter = JSON.stringify(attributes[i].value);\n                    }\n                }\n                vm.field = data[1];\n                vm.editFieldFormGroup.get('name').patchValue(vm.field.name, {emitEvent: false});\n                vm.editFieldFormGroup.get('label').patchValue(vm.field.label, {emitEvent: false});\n                createPolygonSubscription();\n            }\n        );\n    }\n\n}\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "440ca790-1b01-c774-c4f9-065a2aaa2dce"
              }, {
                "name" : "Araziyi sil",
                "icon" : "delete",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "",
                "customCss" : ".sf-field-delete-dialog .mat-button.mat-primary, .sf-field-delete-dialog .mat-icon-button.mat-primary, .sf-field-delete-dialog .mat-stroked-button.mat-primary {\n    color: #5553AF;\n}\n\n.sf-field-delete-dialog .mat-fab.mat-primary, .sf-field-delete-dialog .mat-flat-button.mat-primary, .sf-field-delete-dialog .mat-mini-fab.mat-primary, .sf-field-delete-dialog .mat-raised-button.mat-primary {\n    color: #fff;\n}\n\n.sf-field-delete-dialog .mat-fab.mat-primary, .sf-field-delete-dialog .mat-flat-button.mat-primary, .sf-field-delete-dialog .mat-mini-fab.mat-primary, .sf-field-delete-dialog .mat-raised-button.mat-primary {\n    background-color: #6F74F2;\n}\n\n.sf-field-delete-dialog .mat-button.mat-primary .mat-button-focus-overlay, .sf-field-delete-dialog .mat-icon-button.mat-primary .mat-button-focus-overlay, .sf-field-delete-dialog .mat-stroked-button.mat-primary .mat-button-focus-overlay {\n    background-color: #6F74F2;\n}\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\n\nlet assetService = $injector.get(widgetContext.servicesMap.get('assetService'));\n\nopenDeleteEntityDialog();\n\nfunction openDeleteEntityDialog() {\n    let title = 'Delete field \\'' +\n                 entityName + '\\'';\n    let content = 'Are you sure you want to delete the field \\'' + entityName + '\\'?';\n    dialogs.confirm(title, content, 'Cancel', 'Delete').subscribe(\n        function(result) {\n            if (result) {\n                deleteEntity();\n            }\n        }\n    );\n    $('tb-confirm-dialog').addClass('sf-field-delete-dialog');\n}\n\nfunction deleteEntity() {\n    deleteEntityObservable(entityId).subscribe(\n        function success() {\n            widgetContext.updateAliases();\n        },\n        function fail() {\n            showErrorDialog();\n        }\n    );\n}\n\nfunction deleteEntityObservable(entityId) {\n    return assetService.deleteAsset(entityId.id);\n}\n\nfunction showErrorDialog() {\n    let title = 'Error';\n    let content = 'An error occurred while deleting the field. Please try again.';\n    dialogs.alert(title, content, 'CLOSE').subscribe(\n        function(result) {}\n    );\n}\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "76de68f0-6177-7d13-0fb7-5af0f56b25dc"
              } ]
            },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "mat-row {\n    cursor: pointer;\n}",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "d4dec610-2b77-e9a5-f07b-23ca1035bf04",
          "typeFullFqn" : "system.cards.entities_table"
        },
        "2cc39bd3-f52d-aef6-0800-69f72f5dd740" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "0813fdcd-9ed7-a737-74fd-13c978a9a1ab",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "avgMoisture",
                "type" : "timeseries",
                "label" : "${entityName}",
                "color" : "#6f74f2",
                "settings" : { },
                "_hash" : 0.5177958102552112,
                "aggregationType" : null,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "latestDataKeys" : [ ]
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideLastInterval" : false,
              "hideQuickInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 604800000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 1800000
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 50000
              }
            },
            "showTitle" : true,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "stack" : false,
              "fontSize" : 10,
              "fontColor" : "#545454",
              "showTooltip" : true,
              "tooltipIndividual" : false,
              "tooltipCumulative" : false,
              "hideZeros" : false,
              "grid" : {
                "verticalLines" : false,
                "horizontalLines" : true,
                "outlineWidth" : 0,
                "color" : null,
                "backgroundColor" : null,
                "tickColor" : "#DDDDDD"
              },
              "xaxis" : {
                "title" : null,
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "min" : null,
                "max" : null,
                "title" : null,
                "showLabels" : true,
                "color" : "#545454",
                "tickSize" : null,
                "tickDecimals" : 0,
                "ticksFormatter" : ""
              },
              "shadowSize" : 0,
              "smoothLines" : true,
              "comparisonEnabled" : false,
              "xaxisSecond" : {
                "axisPosition" : "top",
                "title" : null,
                "showLabels" : true
              },
              "customLegendEnabled" : false,
              "showLegend" : true,
              "legendConfig" : {
                "direction" : "row",
                "position" : "top",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : false,
                "showTotal" : false,
                "showLatest" : false
              }
            },
            "title" : "Nem geçmişi",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "2cc39bd3-f52d-aef6-0800-69f72f5dd740",
          "typeFullFqn" : "system.charts.basic_timeseries"
        },
        "887aa4a0-a4ea-6fac-2795-cabf79cc471b" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "4fba01b8-b087-61ab-bedb-838dbba32440",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "currentIrrigationWaterConsumption",
                "type" : "timeseries",
                "label" : "DailyWaterConsumption",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.4383129905545107,
                "aggregationType" : "SUM",
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null,
                "comparisonEnabled" : null
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1690275298140,
                  "endTimeMs" : 1690361698140
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : true,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "useMarkdownTextFunction" : false,
              "markdownTextPattern" : "<div class=\"daily-water-consumption\" fxLayout=\"column\" fxLayoutAlign=\"center center\"><div class=\"text\">${DailyWaterConsumption:0} l</div></div>",
              "markdownCss" : ".daily-water-consumption {\n    width: 100%;\n    height: 100%;\n    padding: 0;\n}\n\n.daily-water-consumption .text {\n    font-weight: 700;\n    font-size: 36px;\n    color: #000;\n}\n\n@media only screen and (min-width: 960px) and (max-width: 1200px) {\n    .daily-water-consumption .text {\n        font-size: 24px;\n    }\n}"
            },
            "title" : "Daily water consumption",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "useDashboardTimewindow" : false,
            "displayTimewindow" : false,
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "887aa4a0-a4ea-6fac-2795-cabf79cc471b",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "101c8201-362f-84b0-ea50-911c8bb79646" : {
          "type" : "latest",
          "sizeX" : 8.5,
          "sizeY" : 6,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "4fba01b8-b087-61ab-bedb-838dbba32440",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "name",
                "type" : "entityField",
                "label" : "Name",
                "color" : "#f44336",
                "settings" : { },
                "_hash" : 0.848379539472371
              }, {
                "name" : "perimeter",
                "type" : "attribute",
                "label" : "perimeter",
                "color" : "#ffc107",
                "settings" : { },
                "_hash" : 0.7803202333041441
              }, {
                "name" : "type",
                "type" : "entityField",
                "label" : "type",
                "color" : "#9c27b0",
                "settings" : { },
                "_hash" : 0.03959817681570765,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ]
            }, {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "8b5b62ba-5b71-ab4a-dd98-ccd938c46b7f",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "latitude",
                "type" : "attribute",
                "label" : "latitude",
                "color" : "#f44336",
                "settings" : { },
                "_hash" : 0.5728081182215903
              }, {
                "name" : "longitude",
                "type" : "attribute",
                "label" : "longitude",
                "color" : "#ffc107",
                "settings" : { },
                "_hash" : 0.3622534354244682
              }, {
                "name" : "type",
                "type" : "entityField",
                "label" : "type",
                "color" : "#607d8b",
                "settings" : { },
                "_hash" : 0.7731021658879498,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "moisture",
                "type" : "timeseries",
                "label" : "moisture",
                "color" : "#8bc34a",
                "settings" : { },
                "_hash" : 0.1472154755148487
              }, {
                "name" : "minMoistureThreshold",
                "type" : "attribute",
                "label" : "minMoistureThreshold",
                "color" : "#ffeb3b",
                "settings" : { },
                "_hash" : 0.6726458750444104
              }, {
                "name" : "maxMoistureThreshold",
                "type" : "attribute",
                "label" : "maxMoistureThreshold",
                "color" : "#03a9f4",
                "settings" : { },
                "_hash" : 0.41803536024678767
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1690275298140,
                  "endTimeMs" : 1690361698140
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0,0,0,0.87)",
            "padding" : "0px",
            "settings" : {
              "provider" : "openstreet-map",
              "gmApiKey" : "AIzaSyDoEx2kaGz3PxwbI9T7ccTSg5xjdw8Nw8Q",
              "gmDefaultMapType" : "roadmap",
              "mapProvider" : "Esri.WorldImagery",
              "useCustomProvider" : false,
              "customProviderTileUrl" : "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
              "mapProviderHere" : "HERE.normalDay",
              "credentials" : {
                "useV3" : true,
                "app_id" : "AhM6TzD9ThyK78CT3ptx",
                "app_code" : "p6NPiITB3Vv0GMUFnkLOOg",
                "apiKey" : "kVXykxAfZ6LS4EbCTO02soFVfjA7HoBzNVVH9u7nzoE"
              },
              "mapImageUrl" : "tb-image:aGVyZV9tYXBfc3lzdGVtX3dpZGdldF9tYXBfaW1hZ2Uuc3Zn:IkhFUkUgTWFwIiBzeXN0ZW0gd2lkZ2V0IG1hcCBpbWFnZQ==;data:image/svg+xml;base64,PHN2ZyBpZD0ic3ZnMiIgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTAwIiB3aWR0aD0iMTAwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgdmlld0JveD0iMCAwIDEwMCAxMDAiPgogPGcgaWQ9ImxheWVyMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAtOTUyLjM2KSI+CiAgPHJlY3QgaWQ9InJlY3Q0Njg0IiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBoZWlnaHQ9Ijk5LjAxIiB3aWR0aD0iOTkuMDEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiB5PSI5NTIuODYiIHg9Ii40OTUwNSIgc3Ryb2tlLXdpZHRoPSIuOTkwMTAiIGZpbGw9IiNlZWUiLz4KICA8dGV4dCBpZD0idGV4dDQ2ODYiIHN0eWxlPSJ3b3JkLXNwYWNpbmc6MHB4O2xldHRlci1zcGFjaW5nOjBweDt0ZXh0LWFuY2hvcjptaWRkbGU7dGV4dC1hbGlnbjpjZW50ZXIiIGZvbnQtd2VpZ2h0PSJib2xkIiB4bWw6c3BhY2U9InByZXNlcnZlIiBmb250LXNpemU9IjEwcHgiIGxpbmUtaGVpZ2h0PSIxMjUlIiB5PSI5NzAuNzI4MDkiIHg9IjQ5LjM5NjQ3NyIgZm9udC1mYW1pbHk9IlJvYm90byIgZmlsbD0iIzY2NjY2NiI+PHRzcGFuIGlkPSJ0c3BhbjQ2OTAiIHg9IjUwLjY0NjQ3NyIgeT0iOTcwLjcyODA5Ij5JbWFnZSBiYWNrZ3JvdW5kIDwvdHNwYW4+PHRzcGFuIGlkPSJ0c3BhbjQ2OTIiIHg9IjQ5LjM5NjQ3NyIgeT0iOTgzLjIyODA5Ij5pcyBub3QgY29uZmlndXJlZDwvdHNwYW4+PC90ZXh0PgogIDxyZWN0IGlkPSJyZWN0NDY5NCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgaGVpZ2h0PSIxOS4zNiIgd2lkdGg9IjY5LjM2IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgeT0iOTkyLjY4IiB4PSIxNS4zMiIgc3Ryb2tlLXdpZHRoPSIuNjM5ODYiIGZpbGw9Im5vbmUiLz4KIDwvZz4KPC9zdmc+Cg==",
              "imageEntityAlias" : "",
              "imageUrlAttribute" : "",
              "tmApiKey" : "84d6d83e0e51e481e50454ccbe8986b",
              "tmDefaultMapType" : "roadmap",
              "latKeyName" : "latitude",
              "lngKeyName" : "longitude",
              "xPosKeyName" : "xPos",
              "yPosKeyName" : "yPos",
              "defaultZoomLevel" : 15,
              "defaultCenterPosition" : "49.348472, 32.108611",
              "disableScrollZooming" : false,
              "disableDoubleClickZooming" : false,
              "disableZoomControl" : false,
              "fitMapBounds" : false,
              "useDefaultCenterPosition" : false,
              "mapPageSize" : 16384,
              "markerOffsetX" : 0.5,
              "markerOffsetY" : 1,
              "posFunction" : "return {x: origXPos, y: origYPos};",
              "draggableMarker" : false,
              "showLabel" : true,
              "useLabelFunction" : false,
              "label" : "<div style=\"position: relative; white-space: nowrap; text-align: center; font-size: 16px; top: 5px;\"><span style=\"margin-left: -500%;\"></span><span style=\"border: solid grey; border-radius: 10px; color: blue; background-color: #fff; padding-left: 5px; padding-right: 5px; padding-top: 3px; padding-bottom: 3px;\">${moisture}\n%</span><span style=\"margin-right: -500%;\"></span></div>",
              "labelFunction" : null,
              "showTooltip" : false,
              "showTooltipAction" : "click",
              "autocloseTooltip" : true,
              "useTooltipFunction" : false,
              "tooltipPattern" : "<b>${entityName}</b><br/><br/><b>Latitude:</b> ${latitude:7}<br/><b>Longitude:</b> ${longitude:7}",
              "tooltipFunction" : null,
              "tooltipOffsetX" : 0,
              "tooltipOffsetY" : -1,
              "color" : "#fe7569",
              "useColorFunction" : false,
              "colorFunction" : null,
              "useMarkerImageFunction" : false,
              "markerImage" : "tb-image:d2F0ZXJfbWV0ZXJpbmdfdGVuYW50X2Rhc2hib2FyZF9kYXNoYm9hcmRfd2lkZ2V0X25ld19vcGVuc3RyZWV0bWFwX21hcmtlcl9pbWFnZS5zdmc=:IldhdGVyIE1ldGVyaW5nIFRlbmFudCBEYXNoYm9hcmQiIGRhc2hib2FyZCB3aWRnZXQgIk5ldyBPcGVuU3RyZWV0TWFwIiBtYXJrZXIgaW1hZ2U=;data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzciIHZpZXdCb3g9IjAgMCAzMCAzNyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTUgMzUuNTg4MkMxNSAzNS41ODgyIDI5IDI2LjAyNjEgMjkgMTVDMjkgNy4yNjgwMSAyMi43MzIgMSAxNSAxQzcuMjY4MDEgMSAxIDcuMjY4MDEgMSAxNUMxIDI2LjAyNjEgMTUgMzUuNTg4MiAxNSAzNS41ODgyWk0xNC44MzU0IDI0LjcxNzZDMjAuMTExMyAyNC43MTc2IDI0LjM4ODMgMjAuNDQwNiAyNC4zODgzIDE1LjE2NDdDMjQuMzg4MyA5Ljg4ODc2IDIwLjExMTMgNS42MTE3NiAxNC44MzU0IDUuNjExNzZDOS41NTk0MSA1LjYxMTc2IDUuMjgyNDEgOS44ODg3NiA1LjI4MjQxIDE1LjE2NDdDNS4yODI0MSAyMC40NDA2IDkuNTU5NDEgMjQuNzE3NiAxNC44MzU0IDI0LjcxNzZaIiBmaWxsPSJ3aGl0ZSIvPgogICAgPHBhdGggZD0iTTE1IDM1LjU4ODJMMTQuNzE4IDM2LjAwMTFMMTUgMzYuMTkzN0wxNS4yODIgMzYuMDAxMUwxNSAzNS41ODgyWk0yOC41IDE1QzI4LjUgMjAuMzE1MSAyNS4xMTM4IDI1LjM0MTIgMjEuNjMzNiAyOS4wODg3QzE5LjkwMzQgMzAuOTUxNyAxOC4xNzE2IDMyLjQ3NTggMTYuODcxOCAzMy41MzQxQzE2LjIyMjMgMzQuMDYzIDE1LjY4MTYgMzQuNDc0OCAxNS4zMDQzIDM0Ljc1MzhDMTUuMTE1NyAzNC44OTMyIDE0Ljk2OCAzNC45OTk0IDE0Ljg2OCAzNS4wNzAzQzE0LjgxOCAzNS4xMDU4IDE0Ljc3OTkgMzUuMTMyNCAxNC43NTQ2IDM1LjE1QzE0Ljc0MiAzNS4xNTg4IDE0LjczMjUgMzUuMTY1MyAxNC43MjY0IDM1LjE2OTZDMTQuNzIzMyAzNS4xNzE3IDE0LjcyMTEgMzUuMTczMiAxNC43MTk3IDM1LjE3NDJDMTQuNzE5IDM1LjE3NDcgMTQuNzE4NSAzNS4xNzUgMTQuNzE4MiAzNS4xNzUyQzE0LjcxODEgMzUuMTc1MyAxNC43MTggMzUuMTc1MyAxNC43MTc5IDM1LjE3NTRDMTQuNzE3OSAzNS4xNzU0IDE0LjcxOCAzNS4xNzU0IDE1IDM1LjU4ODJDMTUuMjgyIDM2LjAwMTEgMTUuMjgyMiAzNi4wMDEgMTUuMjgyNCAzNi4wMDA5QzE1LjI4MjUgMzYuMDAwOCAxNS4yODI4IDM2LjAwMDYgMTUuMjgzMSAzNi4wMDA0QzE1LjI4MzYgMzYgMTUuMjg0NCAzNS45OTk1IDE1LjI4NTQgMzUuOTk4OEMxNS4yODc0IDM1Ljk5NzQgMTUuMjkwMiAzNS45OTU1IDE1LjI5MzkgMzUuOTkyOUMxNS4zMDEyIDM1Ljk4NzkgMTUuMzExOSAzNS45ODA1IDE1LjMyNTcgMzUuOTcwOUMxNS4zNTM0IDM1Ljk1MTYgMTUuMzk0IDM1LjkyMzIgMTUuNDQ2NSAzNS44ODZDMTUuNTUxNiAzNS44MTE1IDE1LjcwNDYgMzUuNzAxNCAxNS44OTg4IDM1LjU1NzlDMTYuMjg3MSAzNS4yNzA4IDE2Ljg0MDIgMzQuODQ5NCAxNy41MDMyIDM0LjMwOTZDMTguODI4NCAzMy4yMzA1IDIwLjU5NjYgMzEuNjc0OSAyMi4zNjY0IDI5Ljc2OTJDMjUuODg2MiAyNS45NzkgMjkuNSAyMC43MTEgMjkuNSAxNUgyOC41Wk0xNSAxLjVDMjIuNDU1OCAxLjUgMjguNSA3LjU0NDE2IDI4LjUgMTVIMjkuNUMyOS41IDYuOTkxODcgMjMuMDA4MSAwLjUgMTUgMC41VjEuNVpNMS41IDE1QzEuNSA3LjU0NDE2IDcuNTQ0MTYgMS41IDE1IDEuNVYwLjVDNi45OTE4NyAwLjUgMC41IDYuOTkxODcgMC41IDE1SDEuNVpNMTUgMzUuNTg4MkMxNS4yODIgMzUuMTc1NCAxNS4yODIxIDM1LjE3NTQgMTUuMjgyMSAzNS4xNzU0QzE1LjI4MiAzNS4xNzUzIDE1LjI4MTkgMzUuMTc1MyAxNS4yODE4IDM1LjE3NTJDMTUuMjgxNSAzNS4xNzUgMTUuMjgxIDM1LjE3NDcgMTUuMjgwMyAzNS4xNzQyQzE1LjI3ODkgMzUuMTczMiAxNS4yNzY3IDM1LjE3MTcgMTUuMjczNiAzNS4xNjk2QzE1LjI2NzUgMzUuMTY1MyAxNS4yNTggMzUuMTU4OCAxNS4yNDU0IDM1LjE1QzE1LjIyMDEgMzUuMTMyNCAxNS4xODIgMzUuMTA1OCAxNS4xMzIgMzUuMDcwM0MxNS4wMzIgMzQuOTk5NCAxNC44ODQzIDM0Ljg5MzIgMTQuNjk1NyAzNC43NTM4QzE0LjMxODQgMzQuNDc0OCAxMy43Nzc3IDM0LjA2MyAxMy4xMjgyIDMzLjUzNDFDMTEuODI4NCAzMi40NzU4IDEwLjA5NjYgMzAuOTUxNyA4LjM2NjM4IDI5LjA4ODdDNC44ODYxOSAyNS4zNDEyIDEuNSAyMC4zMTUxIDEuNSAxNUgwLjVDMC41IDIwLjcxMSA0LjExMzgxIDI1Ljk3OSA3LjYzMzYyIDI5Ljc2OTJDOS40MDM0MiAzMS42NzQ5IDExLjE3MTYgMzMuMjMwNSAxMi40OTY4IDM0LjMwOTZDMTMuMTU5OCAzNC44NDk0IDEzLjcxMjkgMzUuMjcwOCAxNC4xMDEyIDM1LjU1NzlDMTQuMjk1NCAzNS43MDE0IDE0LjQ0ODQgMzUuODExNSAxNC41NTM1IDM1Ljg4NkMxNC42MDYgMzUuOTIzMiAxNC42NDY2IDM1Ljk1MTYgMTQuNjc0MyAzNS45NzA5QzE0LjY4ODEgMzUuOTgwNSAxNC42OTg4IDM1Ljk4NzkgMTQuNzA2MSAzNS45OTI5QzE0LjcwOTggMzUuOTk1NSAxNC43MTI2IDM1Ljk5NzQgMTQuNzE0NiAzNS45OTg4QzE0LjcxNTYgMzUuOTk5NSAxNC43MTY0IDM2IDE0LjcxNjkgMzYuMDAwNEMxNC43MTcyIDM2LjAwMDYgMTQuNzE3NSAzNi4wMDA4IDE0LjcxNzYgMzYuMDAwOUMxNC43MTc4IDM2LjAwMSAxNC43MTggMzYuMDAxMSAxNSAzNS41ODgyWk0yMy44ODgzIDE1LjE2NDdDMjMuODg4MyAyMC4xNjQ1IDE5LjgzNTIgMjQuMjE3NiAxNC44MzU0IDI0LjIxNzZWMjUuMjE3NkMyMC4zODc0IDI1LjIxNzYgMjQuODg4MyAyMC43MTY4IDI0Ljg4ODMgMTUuMTY0N0gyMy44ODgzWk0xNC44MzU0IDYuMTExNzZDMTkuODM1MiA2LjExMTc2IDIzLjg4ODMgMTAuMTY0OSAyMy44ODgzIDE1LjE2NDdIMjQuODg4M0MyNC44ODgzIDkuNjEyNjIgMjAuMzg3NCA1LjExMTc2IDE0LjgzNTQgNS4xMTE3NlY2LjExMTc2Wk01Ljc4MjQxIDE1LjE2NDdDNS43ODI0MSAxMC4xNjQ5IDkuODM1NTUgNi4xMTE3NiAxNC44MzU0IDYuMTExNzZWNS4xMTE3NkM5LjI4MzI2IDUuMTExNzYgNC43ODI0MSA5LjYxMjYyIDQuNzgyNDEgMTUuMTY0N0g1Ljc4MjQxWk0xNC44MzU0IDI0LjIxNzZDOS44MzU1NSAyNC4yMTc2IDUuNzgyNDEgMjAuMTY0NSA1Ljc4MjQxIDE1LjE2NDdINC43ODI0MUM0Ljc4MjQxIDIwLjcxNjggOS4yODMyNiAyNS4yMTc2IDE0LjgzNTQgMjUuMjE3NlYyNC4yMTc2WiIgZmlsbD0iI0UwRTBFMCIvPgogICAgPGNpcmNsZSBjeD0iMTUuMDAwMSIgY3k9IjE1LjAwMDEiIHI9IjYuMzM3MjEiIGZpbGw9IiM2RkNGOTciIHN0cm9rZT0iIzIxOTY1MyIvPgo8L3N2Zz4=",
              "markerImageSize" : 24,
              "markerImageFunction" : null,
              "markerImages" : [ ],
              "showPolygon" : true,
              "polygonKeyName" : "perimeter",
              "editablePolygon" : false,
              "showPolygonLabel" : false,
              "usePolygonLabelFunction" : false,
              "polygonLabel" : "${entityName}",
              "polygonLabelFunction" : null,
              "showPolygonTooltip" : false,
              "showPolygonTooltipAction" : "click",
              "autoClosePolygonTooltip" : true,
              "usePolygonTooltipFunction" : false,
              "polygonTooltipPattern" : "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
              "polygonTooltipFunction" : null,
              "polygonColor" : "#3388ff",
              "polygonOpacity" : 0.2,
              "usePolygonColorFunction" : false,
              "polygonColorFunction" : null,
              "polygonStrokeColor" : "#3388ff",
              "polygonStrokeOpacity" : 1,
              "polygonStrokeWeight" : 3,
              "usePolygonStrokeColorFunction" : false,
              "polygonStrokeColorFunction" : null,
              "showCircle" : false,
              "circleKeyName" : "perimeter",
              "editableCircle" : false,
              "showCircleLabel" : false,
              "useCircleLabelFunction" : false,
              "circleLabel" : "${entityName}",
              "circleLabelFunction" : null,
              "showCircleTooltip" : false,
              "showCircleTooltipAction" : "click",
              "autoCloseCircleTooltip" : true,
              "useCircleTooltipFunction" : false,
              "circleTooltipPattern" : "<b>${entityName}</b><br/><br/><b>TimeStamp:</b> ${ts:7}",
              "circleTooltipFunction" : null,
              "circleFillColor" : "#3388ff",
              "circleFillColorOpacity" : 0.2,
              "useCircleFillColorFunction" : false,
              "circleFillColorFunction" : null,
              "circleStrokeColor" : "#3388ff",
              "circleStrokeOpacity" : 1,
              "circleStrokeWeight" : 3,
              "useCircleStrokeColorFunction" : false,
              "circleStrokeColorFunction" : null,
              "useClusterMarkers" : false,
              "zoomOnClick" : true,
              "maxZoom" : null,
              "maxClusterRadius" : 80,
              "animate" : true,
              "spiderfyOnMaxZoom" : false,
              "showCoverageOnHover" : true,
              "chunkedLoading" : false,
              "removeOutsideVisibleBounds" : true,
              "useIconCreateFunction" : false,
              "clusterMarkerFunction" : null
            },
            "title" : "Fields",
            "dropShadow" : false,
            "enableFullscreen" : true,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "widgetStyle" : { },
            "actions" : {
              "markerClick" : [ {
                "name" : "Moisture sensor details",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "moisture_sensor_details",
                "setEntityId" : true,
                "stateEntityParamName" : null,
                "openRightLayout" : false,
                "popoverPreferredPlacement" : "top",
                "popoverHideOnClickOutside" : true,
                "popoverHideDashboardToolbar" : true,
                "popoverWidth" : "300px",
                "popoverHeight" : "250px",
                "popoverStyle" : { },
                "openInSeparateDialog" : false,
                "openInPopover" : true,
                "id" : "f551c47e-12d1-7041-264a-ca98839c2f41"
              } ]
            },
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "101c8201-362f-84b0-ea50-911c8bb79646",
          "typeFullFqn" : "system.maps_v2.openstreetmap"
        },
        "820b8500-aabd-1278-4eec-492be180b798" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 6.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "4fba01b8-b087-61ab-bedb-838dbba32440",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "irrigationTask",
                "type" : "timeseries",
                "label" : "Start day",
                "color" : "#4caf50",
                "settings" : {
                  "useCellStyleFunction" : true,
                  "cellStyleFunction" : "return {\n    minWidth: '60px',\n    width: '60px',\n    maxWidth: '60px'\n}",
                  "useCellContentFunction" : true,
                  "cellContentFunction" : "var data;\nif (value) {\n    try {\n        data = JSON.parse(value);\n    } catch (e){}\n}\nif (data) {\n    var dateFormat;\n    if (new Date().getYear() === new Date(data.startTs).getYear()) {\n        dateFormat = 'd MMM';\n    } else {\n        dateFormat = 'd MMM yyyy';\n    }\n    return ctx.date.transform(data.startTs, dateFormat);\n} else {\n    return '';\n}"
                },
                "_hash" : 0.7275755335760952,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "irrigationTask",
                "type" : "timeseries",
                "label" : "Start time",
                "color" : "#9c27b0",
                "settings" : {
                  "useCellStyleFunction" : true,
                  "cellStyleFunction" : "return {\n    minWidth: '60px',\n    width: '60px',\n    maxWidth: '60px'\n}",
                  "useCellContentFunction" : true,
                  "cellContentFunction" : "var data;\nif (value) {\n    try {\n        data = JSON.parse(value);\n    } catch (e){}\n}\nif (data) {\n    var time = ctx.date.transform(data.startTs, 'HH:mm');\n    return '<span style=\"font-weight: 600; background: rgba(111, 116, 242, 0.08); border-radius: 16px; padding: 4px 8px; color: #5553AF;\">'+time+'</span>';\n} else {\n    return '';\n}\n"
                },
                "_hash" : 0.914222992801236,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "irrigationTask",
                "type" : "timeseries",
                "label" : "End rule",
                "color" : "#2196f3",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : true,
                  "cellContentFunction" : "var data;\nif (value) {\n    try {\n        data = JSON.parse(value);\n    } catch (e){}\n}\nif (data) {\n    var durationThreshold = data.durationThreshold;\n    var consumptionThreshold = data.consumptionThreshold;\n    var text = 'N/A';\n    if (durationThreshold) {\n        text = (durationThreshold / 60000).toFixed(0) + ' min';\n    } else if (consumptionThreshold) {\n        text = consumptionThreshold.toFixed(0) + ' l';\n    }\n    return '<span style=\"font-weight: 600; background: rgba(111, 116, 242, 0.08); border-radius: 16px; padding: 4px 8px;  color: #5553AF;\">'+text+'</span>';\n} else {\n    return '';\n}\n"
                },
                "_hash" : 0.40035296849915825,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "irrigationTask",
                "type" : "timeseries",
                "label" : "Duration",
                "color" : "#f44336",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : true,
                  "cellContentFunction" : "var data;\nif (value) {\n    try {\n        data = JSON.parse(value);\n    } catch (e){}\n}\nif (data) {\n    var duration = data.duration;\n    if (typeof duration === 'number') {\n        return '~' + (duration / 60000*0.01).toFixed(0) + ' min'; //del*0.1\n    } else {\n        return 'N/A'\n    }\n} else {\n    return 'N/A';\n}\n",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled"
                },
                "_hash" : 0.16840508210390004,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "irrigationTask",
                "type" : "timeseries",
                "label" : "Volume",
                "color" : "#ffc107",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : true,
                  "cellContentFunction" : "var data;\nif (value) {\n    try {\n        data = JSON.parse(value);\n    } catch (e){}\n}\nif (data) {\n    var consumption = data.consumption;\n    if (typeof consumption === 'number') {\n        return consumption.toFixed(0) + ' l';\n    } else {\n        return 'N/A'\n    }\n} else {\n    return 'N/A';\n}\n"
                },
                "_hash" : 0.9378980877980216,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "irrigationTask",
                "type" : "timeseries",
                "label" : "Progress",
                "color" : "#607d8b",
                "settings" : {
                  "useCellStyleFunction" : true,
                  "cellStyleFunction" : "return {\n    width: '30%'\n}",
                  "useCellContentFunction" : true,
                  "cellContentFunction" : "var data;\nif (value) {\n    try {\n        data = JSON.parse(value);\n    } catch (e){}\n}\nif (data) {\n    var durationThreshold = data.durationThreshold;\n    var consumptionThreshold = data.consumptionThreshold;\n    var progress = 0;\n    if (durationThreshold) {\n        progress = data.duration ? (data.duration / durationThreshold * 100) : 0;\n    } else if (consumptionThreshold) {\n        progress = data.consumption ? (data.consumption / consumptionThreshold * 100) : 0;\n    }\n    var percent = progress + '%'; //10 is should removed if fixed\n    var percentText = (progress.toFixed(0))/10 + '%';\n    var background = '111, 116, 242';\n    var textColor = '#5553AF';\n    return '<div style=\"width: 100%; height: 16px; background: linear-gradient(to right, rgba('+background+', 0.16) '+percent+', rgba('+background+', 0.08) '+percent+'); border-radius: 5.21053px;\"><span style=\"padding-left: 4px; font-weight: 600; font-size: 13px; color: '+textColor+';\">'+percentText+'</span></div>';\n} else {\n    return '';\n}\n",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled"
                },
                "_hash" : 0.5459599068099552,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              },
              "latestDataKeys" : [ ]
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideLastInterval" : false,
              "hideQuickInterval" : false,
              "hideAggregation" : true,
              "hideAggInterval" : true,
              "hideTimezone" : true,
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 0,
                "timewindowMs" : 604800000,
                "quickInterval" : "CURRENT_DAY",
                "interval" : 1000
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 1000
              }
            },
            "showTitle" : true,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "enableSearch" : false,
              "enableStickyHeader" : true,
              "enableStickyAction" : true,
              "reserveSpaceForHiddenAction" : "true",
              "showTimestamp" : false,
              "showMilliseconds" : false,
              "displayPagination" : true,
              "useEntityLabel" : false,
              "defaultPageSize" : 10,
              "hideEmptyLines" : false,
              "disableStickyHeader" : false,
              "useRowStyleFunction" : false
            },
            "title" : "Irrigation Tasks",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400,
              "padding" : "5px 10px 5px 10px"
            },
            "useDashboardTimewindow" : false,
            "showLegend" : false,
            "widgetStyle" : { },
            "actions" : { },
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "displayTimewindow" : true,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "820b8500-aabd-1278-4eec-492be180b798",
          "typeFullFqn" : "system.cards.timeseries_table"
        },
        "73b8134b-f6f6-778a-be76-e8ef23f07613" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 6.5,
          "config" : {
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1690275298140,
                  "endTimeMs" : 1690361698140
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 200
              }
            },
            "showTitle" : true,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "entitiesTitle" : "Sensors",
              "enableSearch" : true,
              "enableSelectColumnDisplay" : false,
              "enableStickyHeader" : true,
              "enableStickyAction" : true,
              "showCellActionsMenu" : true,
              "reserveSpaceForHiddenAction" : "false",
              "displayEntityName" : false,
              "entityNameColumnTitle" : "",
              "displayEntityLabel" : false,
              "entityLabelColumnTitle" : "",
              "displayEntityType" : false,
              "displayPagination" : false,
              "defaultPageSize" : 10,
              "defaultSortOrder" : "name",
              "useRowStyleFunction" : false,
              "rowStyleFunction" : ""
            },
            "title" : "New Entities table",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400,
              "padding" : "5px 10px 5px 10px"
            },
            "useDashboardTimewindow" : false,
            "showLegend" : false,
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "8b5b62ba-5b71-ab4a-dd98-ccd938c46b7f",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "name",
                "type" : "entityField",
                "label" : "Name",
                "color" : "#2196f3",
                "settings" : {
                  "columnWidth" : "70px",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : false,
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.964011137179303,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "label",
                "type" : "entityField",
                "label" : "Label",
                "color" : "#9c27b0",
                "settings" : {
                  "columnWidth" : "60px",
                  "useCellStyleFunction" : true,
                  "cellStyleFunction" : "return {\n    fontWeight: 600\n};\n",
                  "useCellContentFunction" : true,
                  "cellContentFunction" : "return value ? '<span style=\"background: rgba(111, 116, 242, 0.08); border-radius: 16px; padding: 4px 8px; color: #5553AF; white-space: nowrap;\">'+value+'</span>' : '';",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.5996920850265313,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "moisture",
                "type" : "timeseries",
                "label" : "moisture",
                "color" : "#4caf50",
                "settings" : {
                  "columnWidth" : "50px",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : true,
                  "cellContentFunction" : "if (value) {\n    var minMoistureThreshold = entity['minMoistureThreshold'];\n    var maxMoistureThreshold = entity['maxMoistureThreshold'];\n    var background = '111, 116, 242';\n    var textColor = '#5553AF';\n    if (value < minMoistureThreshold || value > maxMoistureThreshold) {\n        background = '209, 39, 48';\n        textColor = '#D12730';\n    }\n    var percent = value + '%';\n    var percentText = value.toFixed(0) + '%';\n    return '<div style=\"width: 100%; max-width: 100px; height: 16px; background: linear-gradient(to right, rgba('+background+', 0.16) '+percent+', rgba('+background+', 0.08) '+percent+'); border-radius: 5.21053px;\"><span style=\"padding-left: 4px; font-weight: 600; font-size: 13px; color: '+textColor+';\">'+percentText+'</span></div>';\n} else {\n    return 'No data';\n}",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.9864372687388072,
                "aggregationType" : "NONE",
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "active",
                "type" : "attribute",
                "label" : "active",
                "color" : "#f44336",
                "settings" : {
                  "columnWidth" : "40px",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : true,
                  "cellContentFunction" : "var text = value === 'true' ? 'On' : 'Off';\nvar color = value === 'true' ? '#198038' : 'red';\nreturn '<div><span style=\"width: 4px; height: 4px; border-radius: 2px; background: '+color+'; display: inline-block; vertical-align: middle;\"></span><span style=\"padding-left: 8px;\">'+text+'</span></div>';",
                  "defaultColumnVisibility" : "visible",
                  "columnSelectionToDisplay" : "enabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.49788361286301885,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "minMoistureThreshold",
                "type" : "attribute",
                "label" : "minMoistureThreshold",
                "color" : "#8bc34a",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : false,
                  "defaultColumnVisibility" : "hidden",
                  "columnSelectionToDisplay" : "disabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.8242338033703862,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "maxMoistureThreshold",
                "type" : "attribute",
                "label" : "maxMoistureThreshold",
                "color" : "#3f51b5",
                "settings" : {
                  "columnWidth" : "0px",
                  "useCellStyleFunction" : false,
                  "useCellContentFunction" : false,
                  "defaultColumnVisibility" : "hidden",
                  "columnSelectionToDisplay" : "disabled",
                  "columnExportOption" : "onlyVisible"
                },
                "_hash" : 0.31385567303616213,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "displayTimewindow" : true,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : ".mat-header-row {\n    display: none;\n}\n\nmat-row, .mat-cell {\n    border-bottom: none;\n    cursor: pointer;\n}\n",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "actions" : {
              "headerButton" : [ {
                "name" : "Add moisture sensor",
                "icon" : "add",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #addSensorForm=\"ngForm\" [formGroup]=\"addSensorFormGroup\"\n      (ngSubmit)=\"submit()\" class=\"sf-sensor-form\">\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\n        <h2>{{ step === 1 ? 'Add moisture sensor' : 'Set sensor location' }}</h2>\n        <span fxFlex></span>\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\n            <mat-icon class=\"material-icons\">close</mat-icon>\n        </button>\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n        <section *ngIf=\"step === 1\" fxLayout=\"column\">\n            <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\">\n                <mat-form-field fxFlex class=\"mat-block\">\n                    <mat-label>Sensor Name</mat-label>\n                    <input matInput formControlName=\"name\" required>\n                    <mat-error *ngIf=\"addSensorFormGroup.get('name').hasError('required')\">\n                        Sensor name is required.\n                    </mat-error>\n                </mat-form-field>\n                <mat-form-field fxFlex class=\"mat-block\">\n                    <mat-label>Label</mat-label>\n                    <input matInput formControlName=\"label\">\n                </mat-form-field>\n            </div>\n        </section>\n        <section *ngIf=\"step === 2\" fxLayout=\"column\">\n            <tb-dashboard-state \n                style=\"height: 400px; width: 100%;\"\n                [ctx]=\"widgetContext\"\n                stateId=\"setup_sensor_location\"\n                [entityId]=\"sensor.id\">\n            </tb-dashboard-state>\n        </section>\n    </div>\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\n        <button *ngIf=\"step === 1\" mat-button color=\"primary\"\n                type=\"button\"\n                [disabled]=\"(isLoading$ | async)\"\n                (click)=\"cancel()\" cdkFocusInitial>\n            Cancel\n        </button>\n        <button *ngIf=\"step === 1\" mat-button mat-raised-button color=\"primary\"\n                type=\"button\"\n                (click)=\"next()\"\n                [disabled]=\"(isLoading$ | async) || addSensorFormGroup.invalid\">\n            Next\n        </button>\n        <button *ngIf=\"step === 2\" mat-button color=\"primary\"\n                type=\"button\"\n                [disabled]=\"(isLoading$ | async)\"\n                (click)=\"back()\" cdkFocusInitial>\n            Back\n        </button>\n        <button *ngIf=\"step === 2\" mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || addSensorFormGroup.invalid || !hasLocation\">\n            Create\n        </button>\n    </div>\n</form>\n",
                "customCss" : ".sf-sensor-form {\n    width: 600px;\n}\n\n.sf-sensor-form .mat-toolbar.mat-primary {\n    background: #fff;\n    color: rgba(0, 0, 0, 0.87);\n}\n\n.sf-sensor-form .mat-button.mat-primary, .sf-sensor-form .mat-icon-button.mat-primary, .sf-sensor-form .mat-stroked-button.mat-primary {\n    color: #5553AF;\n}\n\n.sf-sensor-form .mat-fab.mat-primary, .sf-sensor-form .mat-flat-button.mat-primary, .sf-sensor-form .mat-mini-fab.mat-primary, .sf-sensor-form .mat-raised-button.mat-primary {\n    color: #fff;\n}\n\n.sf-sensor-form .mat-fab.mat-primary, .sf-sensor-form .mat-flat-button.mat-primary, .sf-sensor-form .mat-mini-fab.mat-primary, .sf-sensor-form .mat-raised-button.mat-primary {\n    background-color: #6F74F2;\n}\n\n.sf-sensor-form .mat-button.mat-primary .mat-button-focus-overlay, .sf-sensor-form .mat-icon-button.mat-primary .mat-button-focus-overlay, .sf-sensor-form .mat-stroked-button.mat-primary .mat-button-focus-overlay {\n    background-color: #6F74F2;\n}\n\n.sf-sensor-form .mat-form-field.mat-focused .mat-form-field-label {\n    color: #5553AF;\n}\n\n.sf-sensor-form .mat-form-field.mat-focused .mat-form-field-ripple {\n    background-color: #6F74F2;\n}\n\n.sf-sensor-form .mat-slide-toggle.mat-checked .mat-ripple-element, .sf-sensor-form .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb {\n    background-color: #6F74F2;\n}\n\n.sf-sensor-form .mat-slide-toggle.mat-checked .mat-slide-toggle-bar {\n    background-color: rgba(111, 116, 242, 0.54);\n}\n\n.sf-sensor-form .mat-datetimepicker-calendar-header {\n    background-color: #6F74F2;\n}\n\n.sf-sensor-form .mat-datetimepicker-calendar-body-cell-content.mat-datetimepicker-calendar-body-selected {\n    background-color: #6F74F2;\n}\n\n.sf-sensor-form .mat-datetimepicker-clock-cell.mat-datetimepicker-clock-cell-selected {\n    background-color: #8689f4;\n}\n\n.sf-sensor-form .mat-datetimepicker-clock-center, .sf-sensor-form .mat-datetimepicker-clock-hand, .sf-sensor-form .mat-datetimepicker-clock-hand:before {\n    background-color: #6F74F2;\n}\n\n.sf-sensor-form .mat-datetimepicker-calendar-body-cell-content.mat-datetimepicker-calendar-body-today:not(.mat-datetimepicker-calendar-body-selected) {\n    border-color: #6F74F2;\n}\n\n.sf-sensor-form .mat-icon {\n    color: #868D9C;\n}\n\n.sf-sensor-form .title-modal {\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 130%;\n    color: #868D9C;\n    padding-bottom: 8px;\n}\n\n.sf-sensor-form .mat-button-toggle-group-appearance-standard, .sf-sensor-form .mat-button-toggle-standalone.mat-button-toggle-appearance-standard {\n    border: none;\n}\n\n.sf-sensor-form .mat-button-toggle {\n    background: rgba(0, 0, 0, 0.06);\n    height: 32px;\n    align-items: center;\n    display: flex;\n}\n\n.sf-sensor-form .mat-button-toggle-checked .mat-button-toggle-button {\n    background-color: #fff;\n    border-radius: 4px;\n    margin-left: 2px;\n    margin-right: 2px;\n}\n\n.sf-sensor-form .mat-button-toggle-appearance-standard .mat-button-toggle-label-content {\n    line-height: 28px;\n    font-size: 14px;\n}\n\n.sf-sensor-form .mat-button-toggle-group-appearance-standard .mat-button-toggle+.mat-button-toggle {\n    border-left: none;\n}\n\n.sf-sensor-form .mat-button-toggle-checked.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay {\n    opacity: .01;\n}\n\n.sf-sensor-form .mat-primary .mat-slider-thumb, .sf-sensor-form .mat-primary .mat-slider-thumb-label, .sf-sensor-form .mat-primary .mat-slider-track-fill {\n    background-color: #6F74F2;\n}\n\n.sf-sensor-form .title-modal {\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 130%;\n    color: #868D9C;\n    padding-bottom: 8px;\n}\n\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\nlet deviceService = $injector.get(widgetContext.servicesMap.get('deviceService'));\nlet entityRelationService = $injector.get(widgetContext.servicesMap.get('entityRelationService'));\nlet entityGroupService = $injector.get(widgetContext.servicesMap.get('entityGroupService'));\nlet attributeService = $injector.get(widgetContext.servicesMap.get('attributeService'));\n\n\nlet fieldId = widgetContext.stateController.getStateParams().entityId;\n\nopenAddSensorDialog();\n\nfunction openAddSensorDialog() {\n    customDialog.customDialog(htmlTemplate, AddSensorDialogController).subscribe();\n}\n\nfunction AddSensorDialogController(instance) {\n    let vm = instance;\n    \n    vm.widgetContext = widgetContext;\n    vm.step = 1;\n    vm.sensor = null;\n    \n    vm.hasLocation = false;\n    vm.locationSubscription = null;\n\n\n    vm.addSensorFormGroup = vm.fb.group({\n      name: ['', [vm.validators.required]],\n      label: [null]\n    });\n\n    vm.cancel = function() {\n        cancelLocationSubscription();\n        deleteEntityObservable().subscribe(\n            function () {\n                widgetContext.updateAliases();\n                vm.dialogRef.close(null);\n            }\n        );\n    };\n\n    vm.next = function() {\n        vm.addSensorFormGroup.markAsPristine();\n        saveEntityObservable().subscribe(\n            function (entity) {\n                const tasks = [saveAttributes(entity.id)];\n                if (!vm.sensor) {\n                    tasks.push(saveRelation(entity.id));\n                }\n                vm.sensor = entity;\n                widgetContext.rxjs.forkJoin(tasks).subscribe(\n                    function () {\n                        createLocationSubscription().subscribe(\n                            function() {\n                                vm.step = 2;\n                            }\n                        );\n                    }\n                );\n            }\n        );\n    };\n    \n    vm.back = function() {\n        cancelLocationSubscription();\n        vm.step = 1;\n    }\n    \n    vm.submit = function() {\n        cancelLocationSubscription();\n        widgetContext.updateAliases();\n        vm.dialogRef.close(null);\n    }\n    \n    \n    function createLocationSubscription() {\n        var subscriptionInfo = {\n            type: 'entity',\n            entityType: vm.sensor.id.entityType,\n            entityId: vm.sensor.id.id,\n            attributes: [{ name: 'latitude' }, {name: 'longitude'}]\n        };\n        var options = {\n            callbacks: {\n                onDataUpdated: function(subscription) {\n                    checkHasLocation(subscription.data);\n                }\n            }\n        };\n        return widgetContext.subscriptionApi.createSubscriptionFromInfo(\n                            'latest', [ subscriptionInfo ], options, false, true).pipe(\n            widgetContext.rxjs.tap(function(locationSubscription) {\n                vm.locationSubscription = locationSubscription;\n            })\n        );\n        \n    }\n    \n    function checkHasLocation(data) {\n        var hasLocation = false;\n        if (data.length === 2) {\n            var latitude, longitude;\n            for (var i = 0; i < data.length; i ++) {\n                var datasourceData = data[i];\n                if (datasourceData.dataKey.name === 'latitude') {\n                    latitude = datasourceData.data[0][1];\n                } else if (datasourceData.dataKey.name === 'longitude') {\n                    longitude = datasourceData.data[0][1];\n                }\n            }\n            if (isNumeric(latitude) && isNumeric(longitude)) {\n                hasLocation = true;\n            }\n        }\n        vm.hasLocation = hasLocation;\n    }\n    \n    function isNumeric(val) {\n        if (typeof val === \"number\") {\n            return true;\n        } else if (typeof val === \"string\") {\n            return !isNaN(val) && \n                !isNaN(parseFloat(val));\n        } else {\n            return false;\n        }\n    }\n    \n    function cancelLocationSubscription() {\n        if (vm.locationSubscription) {\n            widgetContext.subscriptionApi.removeSubscription(vm.locationSubscription.id);\n            vm.locationSubscription = null;\n        }\n    }\n\n    function saveEntityObservable() {\n        return getOrCreateSmartIrrigationDeviceGroup().pipe(\n          widgetContext.rxjs.switchMap((smartIrrigation) => {\n            const formValues = vm.addSensorFormGroup.value;\n            let sensor = {\n                name: formValues.name,\n                type: 'SI Soil Moisture Sensor',\n                label: formValues.label\n            };\n            if (vm.sensor) {\n                sensor.id = vm.sensor.id;\n            }\n            return deviceService.saveDevice(sensor, smartIrrigation.id.id);\n          })\n        );\n    }\n    \n    function deleteEntityObservable() {\n        if (vm.sensor) {\n            return deviceService.deleteDevice(vm.sensor.id.id);\n        } else {\n            return widgetContext.rxjs.of(null);\n        }\n    }\n\n    function saveAttributes(entityId) {\n        if (!vm.hasLocation) {\n            return attributeService.getEntityAttributes(fieldId, 'SERVER_SCOPE', ['perimeter']).pipe(\n                widgetContext.rxjs.mergeMap(function (attributes) {\n                    var polygon;\n                    if (attributes.length && attributes[0].key === 'perimeter') {\n                       polygon = attributes[0].value;\n                    }\n                    var latLng = calculatePolygonCenter(polygon);\n                    let attributesArray = [\n                        {key: 'latitude', value: latLng[0]},\n                        {key: 'longitude', value: latLng[1]}\n                    ];\n                    return attributeService.saveEntityAttributes(entityId, \"SERVER_SCOPE\", attributesArray);\n                })\n            );\n        } else {\n            return widgetContext.rxjs.of(null);\n        }\n    }\n    \n    function saveRelation(entityId) {\n        let relation = {\n            type: 'FieldToMoistureSensor',\n            typeGroup: 'COMMON',\n            to: entityId,\n            from: fieldId\n        };\n        return entityRelationService.saveRelation(relation);\n    }\n    \n    function getOrCreateSmartIrrigationDeviceGroup() {\n      return getEntityGroupByName(\"Smart Irrigation\", \"DEVICE\").pipe(\n          widgetContext.rxjs.switchMap((group) => {\n              if (group) {\n                  return widgetContext.rxjs.of(group);\n              } else {\n                  var smartIrrigation = {\n                    type: 'DEVICE',\n                    name: 'Smart Irrigation'\n                  };\n                  return entityGroupService.saveEntityGroup(smartIrrigation);\n              }\n          })\n      );\n    }\n    \n    function getEntityGroupByName(groupName, groupType) {\n      var entityGroupsPageLink = widgetContext.pageLink(10, 0, groupName);\n      return entityGroupService.getEntityGroupsByPageLink(entityGroupsPageLink, groupType, {ignoreLoading: true}).pipe(\n          widgetContext.rxjs.map((data) => {\n            if (data.data.length) {\n                return data.data.find((group) => group.name === groupName);\n            } else {\n                return null;\n            }\n          })\n      );\n    }\n    \n    function calculatePolygonCenter(polygon) {\n        if (polygon && Array.isArray(polygon)) {\n            var length = polygon.length;\n            var latSum = 0;\n            var lngSum = 0;\n            for (var i = 0; i < length; i ++) {\n                var polyLatLng = polygon[i];\n                latSum += polyLatLng[0];\n                lngSum += polyLatLng[1];\n            }\n            return [latSum / length, lngSum / length];\n        } else {\n            return [0,0];\n        }\n    }\n\n}\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "e13b9c03-837f-8ae9-cc0c-7a0e9931b1e8"
              } ],
              "actionCellButton" : [ {
                "name" : "Edit moisture sensor",
                "icon" : "edit",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #editSensorForm=\"ngForm\" [formGroup]=\"editSensorFormGroup\"\n      (ngSubmit)=\"save()\" class=\"sf-sensor-form\">\n    <mat-toolbar fxLayout=\"row\" color=\"primary\">\n        <h2>Edit sensor '{{ entityName }}'</h2>\n        <span fxFlex></span>\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\n            <mat-icon class=\"material-icons\">close</mat-icon>\n        </button>\n    </mat-toolbar>\n    <mat-progress-bar color=\"warn\" mode=\"indeterminate\" *ngIf=\"isLoading$ | async\">\n    </mat-progress-bar>\n    <div style=\"height: 4px;\" *ngIf=\"!(isLoading$ | async)\"></div>\n    <div mat-dialog-content fxLayout=\"column\">\n        <section fxLayout=\"column\">\n            <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayout.xs=\"column\"  fxLayoutGap.xs=\"0\">\n                <mat-form-field fxFlex class=\"mat-block\">\n                    <mat-label>Sensor Name</mat-label>\n                    <input matInput formControlName=\"name\" required>\n                    <mat-error *ngIf=\"editSensorFormGroup.get('name').hasError('required')\">\n                        Sensor name is required.\n                    </mat-error>\n                </mat-form-field>\n                <mat-form-field fxFlex class=\"mat-block\">\n                    <mat-label>Label</mat-label>\n                    <input matInput formControlName=\"label\">\n                </mat-form-field>\n            </div>\n        </section>\n        <section fxLayout=\"column\">\n            <tb-dashboard-state \n                style=\"height: 400px; width: 100%;\"\n                [ctx]=\"widgetContext\"\n                stateId=\"setup_sensor_location\"\n                [entityId]=\"entityId\">\n            </tb-dashboard-state>\n        </section>\n    </div>\n    <div mat-dialog-actions fxLayout=\"row\" fxLayoutAlign=\"end center\">\n        <button mat-button color=\"primary\"\n                type=\"button\"\n                [disabled]=\"(isLoading$ | async)\"\n                (click)=\"cancel()\" cdkFocusInitial>\n            Cancel\n        </button>\n        <button mat-button mat-raised-button color=\"primary\"\n                type=\"submit\"\n                [disabled]=\"(isLoading$ | async) || editSensorFormGroup.invalid || !(editSensorFormGroup.dirty || locationChanged) || !hasLocation\">\n            Save\n        </button>\n    </div>\n</form>\n",
                "customCss" : ".sf-sensor-form {\n    width: 600px;\n}\n\n.sf-sensor-form .mat-toolbar.mat-primary {\n    background: #fff;\n    color: rgba(0, 0, 0, 0.87);\n}\n\n.sf-sensor-form .mat-button.mat-primary, .sf-sensor-form .mat-icon-button.mat-primary, .sf-sensor-form .mat-stroked-button.mat-primary {\n    color: #5553AF;\n}\n\n.sf-sensor-form .mat-fab.mat-primary, .sf-sensor-form .mat-flat-button.mat-primary, .sf-sensor-form .mat-mini-fab.mat-primary, .sf-sensor-form .mat-raised-button.mat-primary {\n    color: #fff;\n}\n\n.sf-sensor-form .mat-fab.mat-primary, .sf-sensor-form .mat-flat-button.mat-primary, .sf-sensor-form .mat-mini-fab.mat-primary, .sf-sensor-form .mat-raised-button.mat-primary {\n    background-color: #6F74F2;\n}\n\n.sf-sensor-form .mat-button.mat-primary .mat-button-focus-overlay, .sf-sensor-form .mat-icon-button.mat-primary .mat-button-focus-overlay, .sf-sensor-form .mat-stroked-button.mat-primary .mat-button-focus-overlay {\n    background-color: #6F74F2;\n}\n\n.sf-sensor-form .mat-form-field.mat-focused .mat-form-field-label {\n    color: #5553AF;\n}\n\n.sf-sensor-form .mat-form-field.mat-focused .mat-form-field-ripple {\n    background-color: #6F74F2;\n}\n\n.sf-sensor-form .mat-slide-toggle.mat-checked .mat-ripple-element, .sf-sensor-form .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb {\n    background-color: #6F74F2;\n}\n\n.sf-sensor-form .mat-slide-toggle.mat-checked .mat-slide-toggle-bar {\n    background-color: rgba(111, 116, 242, 0.54);\n}\n\n.sf-sensor-form .mat-datetimepicker-calendar-header {\n    background-color: #6F74F2;\n}\n\n.sf-sensor-form .mat-datetimepicker-calendar-body-cell-content.mat-datetimepicker-calendar-body-selected {\n    background-color: #6F74F2;\n}\n\n.sf-sensor-form .mat-datetimepicker-clock-cell.mat-datetimepicker-clock-cell-selected {\n    background-color: #8689f4;\n}\n\n.sf-sensor-form .mat-datetimepicker-clock-center, .sf-sensor-form .mat-datetimepicker-clock-hand, .sf-sensor-form .mat-datetimepicker-clock-hand:before {\n    background-color: #6F74F2;\n}\n\n.sf-sensor-form .mat-datetimepicker-calendar-body-cell-content.mat-datetimepicker-calendar-body-today:not(.mat-datetimepicker-calendar-body-selected) {\n    border-color: #6F74F2;\n}\n\n.sf-sensor-form .mat-icon {\n    color: #868D9C;\n}\n\n.sf-sensor-form .title-modal {\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 130%;\n    color: #868D9C;\n    padding-bottom: 8px;\n}\n\n.sf-sensor-form .mat-button-toggle-group-appearance-standard, .sf-sensor-form .mat-button-toggle-standalone.mat-button-toggle-appearance-standard {\n    border: none;\n}\n\n.sf-sensor-form .mat-button-toggle {\n    background: rgba(0, 0, 0, 0.06);\n    height: 32px;\n    align-items: center;\n    display: flex;\n}\n\n.sf-sensor-form .mat-button-toggle-checked .mat-button-toggle-button {\n    background-color: #fff;\n    border-radius: 4px;\n    margin-left: 2px;\n    margin-right: 2px;\n}\n\n.sf-sensor-form .mat-button-toggle-appearance-standard .mat-button-toggle-label-content {\n    line-height: 28px;\n    font-size: 14px;\n}\n\n.sf-sensor-form .mat-button-toggle-group-appearance-standard .mat-button-toggle+.mat-button-toggle {\n    border-left: none;\n}\n\n.sf-sensor-form .mat-button-toggle-checked.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay {\n    opacity: .01;\n}\n\n.sf-sensor-form .mat-button.weekly-repeat {\n    padding: 0 15px;\n    min-width: 0;\n}\n\n.sf-sensor-form .mat-button.weekly-repeat.no-border {\n    padding: 0 16px;\n}\n\n.sf-sensor-form .mat-slider {\n    padding: 8px 0;\n}\n\n.sf-sensor-form .mat-primary .mat-slider-thumb, .sf-sensor-form .mat-primary .mat-slider-thumb-label, .sf-sensor-form .mat-primary .mat-slider-track-fill {\n    background-color: #6F74F2;\n}\n\n.sf-sensor-form .title-modal {\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 130%;\n    color: #868D9C;\n    padding-bottom: 8px;\n}\n\n.sf-sensor-form .threshold-value {\n    color: #fff;\n    font-weight: 500;\n    background: #6F74F2;\n    border-radius: 16px;\n    width: 32px;\n    height: 32px;\n    line-height: 32px;\n    text-align: center;\n}\n\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\nlet deviceService = $injector.get(widgetContext.servicesMap.get('deviceService'));\nlet attributeService = $injector.get(widgetContext.servicesMap.get('attributeService'));\n\nopenEditSensorDialog();\n\nfunction openEditSensorDialog() {\n    customDialog.customDialog(htmlTemplate, EditSensorDialogController).subscribe();\n}\n\nfunction EditSensorDialogController(instance) {\n    let vm = instance;\n    \n    vm.entityName = entityName;\n    vm.entityId = entityId;\n\n    vm.widgetContext = widgetContext;\n    vm.sensor = null;\n    \n    vm.location = null;\n    vm.hasLocation = false;\n    vm.locationChanged = false;\n    vm.locationSubscription = null;\n\n\n    vm.editSensorFormGroup = vm.fb.group({\n      name: ['', [vm.validators.required]],\n      label: [null],\n    });\n\n    vm.cancel = function() {\n        cancelLocationSubscription();\n        restoreLocation().subscribe(\n            function () {\n                vm.dialogRef.close(null);\n            }\n        );\n    };\n\n    vm.save = function() {\n        vm.editSensorFormGroup.markAsPristine();\n        widgetContext.rxjs.forkJoin([\n            saveSensor()\n        ]).subscribe(\n            function () {\n                cancelLocationSubscription();\n                widgetContext.updateAliases();\n                vm.dialogRef.close(null);\n            }\n        );\n    };\n    \n    loadSensor();\n    \n    function createLocationSubscription() {\n        var subscriptionInfo = {\n            type: 'entity',\n            entityType: vm.sensor.id.entityType,\n            entityId: vm.sensor.id.id,\n            attributes: [{ name: 'latitude' }, {name: 'longitude'}]\n        };\n        var options = {\n            callbacks: {\n                onDataUpdated: function(subscription) {\n                    checkLocation(subscription.data);\n                }\n            }\n        };\n        return widgetContext.subscriptionApi.createSubscriptionFromInfo(\n                            'latest', [ subscriptionInfo ], options, false, true).pipe(\n            widgetContext.rxjs.tap(function(locationSubscription) {\n                vm.locationSubscription = locationSubscription;\n            })\n        );\n        \n    }\n    \n    function checkLocation(data) {\n        var hasLocation = false;\n        var latitude, longitude;\n        if (data.length === 2) {\n            for (var i = 0; i < data.length; i ++) {\n                var datasourceData = data[i];\n                if (datasourceData.dataKey.name === 'latitude') {\n                    latitude = datasourceData.data[0][1];\n                } else if (datasourceData.dataKey.name === 'longitude') {\n                    longitude = datasourceData.data[0][1];\n                }\n            }\n            if (isNumeric(latitude) && isNumeric(longitude)) {\n                hasLocation = true;\n            }\n        }\n        var locationChanged = false;\n        if (hasLocation && !vm.location || !hasLocation && vm.location || \n            vm.location[0] !== latitude || vm.location[1] !== longitude) {\n            locationChanged = true;\n        }\n        vm.hasLocation = hasLocation;\n        vm.locationChanged = locationChanged;\n    }\n    \n    function isNumeric(val) {\n        if (typeof val === \"number\") {\n            return true;\n        } else if (typeof val === \"string\") {\n            return !isNaN(val) && \n                !isNaN(parseFloat(val));\n        } else {\n            return false;\n        }\n    }\n    \n    function cancelLocationSubscription() {\n        if (vm.locationSubscription) {\n            widgetContext.subscriptionApi.removeSubscription(vm.locationSubscription.id);\n            vm.locationSubscription = null;\n        }\n    }\n\n    function saveSensor() {\n        const formValues = vm.editSensorFormGroup.value;\n        vm.sensor.name = formValues.name;\n        vm.sensor.label = formValues.label;\n        return deviceService.saveDevice(vm.sensor);\n    }\n\n    function restoreLocation() {\n        if (vm.locationChanged) {\n            var latitude = null;\n            var longitude = null;\n            if (vm.location && vm.location.length === 2) {\n                latitude = vm.location[0];\n                longitude = vm.location[1];\n            }\n            return attributeService.saveEntityAttributes(vm.sensor.id, \"SERVER_SCOPE\",\n                [\n                    { key: 'latitude', value: latitude },\n                    { key: 'longitude', value: longitude }\n                ]\n            );\n        } else {\n            return widgetContext.rxjs.of(null);\n        }\n    }\n    \n    function loadSensor() {\n        widgetContext.rxjs.forkJoin([\n            attributeService.getEntityAttributes(entityId, 'SERVER_SCOPE', ['latitude', 'longitude']),\n            deviceService.getDevice(entityId.id)\n        ]).subscribe(\n            function (data) {\n                var attributes = data[0];\n                for (var i = 0; i < attributes.length; i ++) {\n                    if (attributes[i].key === 'latitude' || attributes[i].key === 'longitude') {\n                        if (!vm.location) {\n                            vm.location = [];\n                        }\n                        vm.location[attributes[i].key === 'latitude' ? 0 : 1] = attributes[i].value;\n                    }\n                }\n                vm.sensor = data[1];\n                vm.editSensorFormGroup.get('name').patchValue(vm.sensor.name, {emitEvent: false});\n                vm.editSensorFormGroup.get('label').patchValue(vm.sensor.label, {emitEvent: false});\n                createLocationSubscription();\n            }\n        );\n    }\n\n}\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "461e0294-e878-6008-1be6-8393c691e5c1"
              }, {
                "name" : "Delete moisture sensor",
                "icon" : "delete",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "",
                "customCss" : ".sf-sensor-delete-dialog .mat-button.mat-primary, .sf-sensor-delete-dialog .mat-icon-button.mat-primary, .sf-sensor-delete-dialog .mat-stroked-button.mat-primary {\n    color: #5553AF;\n}\n\n.sf-sensor-delete-dialog .mat-fab.mat-primary, .sf-sensor-delete-dialog .mat-flat-button.mat-primary, .sf-sensor-delete-dialog .mat-mini-fab.mat-primary, .sf-sensor-delete-dialog .mat-raised-button.mat-primary {\n    color: #fff;\n}\n\n.sf-sensor-delete-dialog .mat-fab.mat-primary, .sf-sensor-delete-dialog .mat-flat-button.mat-primary, .sf-sensor-delete-dialog .mat-mini-fab.mat-primary, .sf-sensor-delete-dialog .mat-raised-button.mat-primary {\n    background-color: #6F74F2;\n}\n\n.sf-sensor-delete-dialog .mat-button.mat-primary .mat-button-focus-overlay, .sf-sensor-delete-dialog .mat-icon-button.mat-primary .mat-button-focus-overlay, .sf-sensor-delete-dialog .mat-stroked-button.mat-primary .mat-button-focus-overlay {\n    background-color: #6F74F2;\n}\n",
                "customFunction" : "let $injector = widgetContext.$scope.$injector;\nlet dialogs = $injector.get(widgetContext.servicesMap.get('dialogs'));\n\nlet deviceService = $injector.get(widgetContext.servicesMap.get('deviceService'));\n\nopenDeleteEntityDialog();\n\nfunction openDeleteEntityDialog() {\n    let title = 'Delete sensor \\'' +\n                 entityName + '\\'';\n    let content = 'Are you sure you want to delete the sensor \\'' + entityName + '\\'?';\n    dialogs.confirm(title, content, 'Cancel', 'Delete').subscribe(\n        function(result) {\n            if (result) {\n                deleteEntity();\n            }\n        }\n    );\n    $('tb-confirm-dialog').addClass('sf-sensor-delete-dialog');\n}\n\nfunction deleteEntity() {\n    deleteEntityObservable(entityId).subscribe(\n        function success() {\n            widgetContext.updateAliases();\n        },\n        function fail() {\n            showErrorDialog();\n        }\n    );\n}\n\nfunction deleteEntityObservable(entityId) {\n    return deviceService.deleteDevice(entityId.id);\n}\n\nfunction showErrorDialog() {\n    let title = 'Error';\n    let content = 'An error occurred while deleting the sensor. Please try again.';\n    dialogs.alert(title, content, 'CLOSE').subscribe(\n        function(result) {}\n    );\n}\n",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "6f239e8e-0b5d-fa30-a836-c22b83afaffa"
              } ],
              "rowClick" : [ {
                "name" : "Moisture sensor details",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "moisture_sensor_details",
                "setEntityId" : true,
                "stateEntityParamName" : null,
                "openRightLayout" : false,
                "popoverPreferredPlacement" : "bottom",
                "popoverHideOnClickOutside" : true,
                "popoverHideDashboardToolbar" : true,
                "popoverWidth" : "300px",
                "popoverHeight" : "250px",
                "popoverStyle" : { },
                "openInSeparateDialog" : false,
                "openInPopover" : true,
                "id" : "548ad8b1-2a95-54f5-ffde-9d555e5a5832"
              } ]
            },
            "margin" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "73b8134b-f6f6-778a-be76-e8ef23f07613",
          "typeFullFqn" : "system.cards.entities_table"
        },
        "00076f4f-c700-fa54-700f-d626e7c8aa82" : {
          "type" : "latest",
          "sizeX" : 5,
          "sizeY" : 3.5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "4fba01b8-b087-61ab-bedb-838dbba32440",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "irrigationState",
                "type" : "timeseries",
                "label" : "irrigationState",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.11651339023616836
              } ]
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1690275298140,
                  "endTimeMs" : 1690361698140
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "useMarkdownTextFunction" : true,
              "markdownTextFunction" : "var fieldData = data[0];\nvar irrigationEnabled = data[0]['irrigationState'] === 'ON';\nvar indicatorClass = irrigationEnabled ? 'status-on' : 'status-off';\nvar irrigationStatusText = irrigationEnabled ? 'ON' : 'OFF';\n\nreturn '<div class=\"irrigation-status-container\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">' +\n'<div class=\"irrigation-status-label\">Irrigation status</div>' +\n'<div class=\"irrigation-status\">'+\n  '<span class=\"indicator '+ indicatorClass +'\"></span>'+\n  '<span class=\"irrigation-status-text\">'+irrigationStatusText+'</span>'+\n'</div>' +\n'</div>';\n",
              "markdownCss" : ".irrigation-status-container {\n    height: 100%; padding-left: 13px;\n}\n\n.irrigation-status-label {\n    font-size: 16px;\n    font-weight: 400;\n    color: #868D9C;\n}\n\n.indicator {\n    width: 24px; \n    height: 24px; \n    border-radius: 12px;\n    display: inline-block; \n    vertical-align: middle;\n    margin-right: 8px;\n}\n\n.indicator.status-on {\n    background: #198038;\n}\n\n.indicator.status-off {\n    background: #aaa;\n}\n\n.irrigation-status-text {\n    display: inline-block; \n    vertical-align: middle;\n    font-size: 24px;\n    font-weight: 700;\n    color: #000;\n}\n\n@media only screen and (min-width: 960px) and (max-width: 1200px) {\n    .irrigation-status-container {\n        padding-right: 13px;\n    }\n    \n    .indicator {\n        width: 16px; \n        height: 16px; \n        border-radius: 8px;\n        margin-right: 4px;\n    }\n    \n    .irrigation-status-text {\n        font-size: 16px;\n    }\n}"
            },
            "title" : "New Markdown/HTML Card",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "useDashboardTimewindow" : true,
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "00076f4f-c700-fa54-700f-d626e7c8aa82",
          "typeFullFqn" : "system.cards.markdown_card"
        },
        "0ff8f160-374e-7e75-f3c1-6a0ca2519172" : {
          "type" : "timeseries",
          "sizeX" : 8,
          "sizeY" : 5,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : null,
              "entityAliasId" : "4fba01b8-b087-61ab-bedb-838dbba32440",
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "avgMoisture",
                "type" : "timeseries",
                "label" : "Moisture",
                "color" : "#6f74f2",
                "settings" : { },
                "_hash" : 0.5177958102552112,
                "aggregationType" : null,
                "units" : "%",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "waterConsumption",
                "type" : "timeseries",
                "label" : "Consumption",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.11518359631018149,
                "aggregationType" : null,
                "units" : "l",
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "latestDataKeys" : [ {
                "name" : "minMoistureThreshold",
                "type" : "attribute",
                "label" : "minMoistureThreshold",
                "color" : "#ff6707",
                "settings" : {
                  "useAsThreshold" : true
                },
                "_hash" : 0.827618805381277,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              }, {
                "name" : "maxMoistureThreshold",
                "type" : "attribute",
                "label" : "maxMoistureThreshold",
                "color" : "#ff6707",
                "settings" : {
                  "useAsThreshold" : true
                },
                "_hash" : 0.0575695661853326,
                "aggregationType" : null,
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ]
            } ],
            "timewindow" : {
              "hideInterval" : false,
              "hideLastInterval" : false,
              "hideQuickInterval" : false,
              "hideAggregation" : false,
              "hideAggInterval" : false,
              "hideTimezone" : false,
              "selectedTab" : 1,
              "history" : {
                "historyType" : 1,
                "fixedTimewindow" : {
                  "startTimeMs" : 1.7175107295167456E12,
                  "endTimeMs" : 1717755023000
                },
                "interval" : 489000
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 50000
              }
            },
            "showTitle" : true,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "8px",
            "settings" : {
              "stack" : false,
              "fontSize" : 10,
              "fontColor" : "#545454",
              "showTooltip" : true,
              "tooltipIndividual" : false,
              "tooltipCumulative" : false,
              "hideZeros" : false,
              "grid" : {
                "verticalLines" : false,
                "horizontalLines" : true,
                "outlineWidth" : 0,
                "color" : null,
                "backgroundColor" : null,
                "tickColor" : "#DDDDDD"
              },
              "xaxis" : {
                "title" : null,
                "showLabels" : true,
                "color" : "#545454"
              },
              "yaxis" : {
                "min" : null,
                "max" : null,
                "title" : null,
                "showLabels" : true,
                "color" : "#545454",
                "tickSize" : null,
                "tickDecimals" : 0,
                "ticksFormatter" : ""
              },
              "shadowSize" : 0,
              "smoothLines" : true,
              "comparisonEnabled" : false,
              "xaxisSecond" : {
                "axisPosition" : "top",
                "title" : null,
                "showLabels" : true
              },
              "customLegendEnabled" : false,
              "showLegend" : true,
              "legendConfig" : {
                "direction" : "row",
                "position" : "bottom",
                "sortDataKeys" : false,
                "showMin" : false,
                "showMax" : false,
                "showAvg" : false,
                "showTotal" : false,
                "showLatest" : false
              }
            },
            "title" : "Statistics",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "enableDataExport" : false,
            "widgetStyle" : { },
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "0ff8f160-374e-7e75-f3c1-6a0ca2519172",
          "typeFullFqn" : "system.charts.basic_timeseries"
        },
        "ce67403e-e2ea-d338-abfc-5461b6bb476d" : {
          "typeFullFqn" : "system.alarm_count",
          "type" : "latest",
          "sizeX" : 3.5,
          "sizeY" : 1.5,
          "config" : {
            "datasources" : [ {
              "type" : "alarmCount",
              "name" : "",
              "dataKeys" : [ {
                "name" : "count",
                "type" : "count",
                "label" : "count",
                "settings" : { },
                "_hash" : 0.3111062058369263
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1717675826799,
                  "endTimeMs" : 1717762226799
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "showLabel" : true,
              "label" : "Total",
              "labelFont" : {
                "family" : "Roboto",
                "size" : 12,
                "sizeUnit" : "px",
                "style" : "normal",
                "weight" : "400",
                "lineHeight" : "16px"
              },
              "labelColor" : {
                "type" : "constant",
                "color" : "rgba(0, 0, 0, 0.54)",
                "colorFunction" : "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
              },
              "showIcon" : true,
              "iconSize" : 20,
              "iconSizeUnit" : "px",
              "icon" : "warning",
              "iconColor" : {
                "type" : "constant",
                "color" : "rgba(255, 255, 255, 1)",
                "colorFunction" : "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
              },
              "showIconBackground" : true,
              "iconBackgroundSize" : 36,
              "iconBackgroundSizeUnit" : "px",
              "iconBackgroundColor" : {
                "type" : "range",
                "color" : "rgba(0, 105, 92, 1)",
                "rangeList" : [ {
                  "from" : 0,
                  "to" : 0,
                  "color" : "rgba(0, 105, 92, 1)"
                }, {
                  "from" : 1,
                  "to" : null,
                  "color" : "rgba(209, 39, 48, 1)"
                } ],
                "colorFunction" : "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
              },
              "valueFont" : {
                "family" : "Roboto",
                "size" : 20,
                "sizeUnit" : "px",
                "style" : "normal",
                "weight" : "500",
                "lineHeight" : "24px"
              },
              "valueColor" : {
                "type" : "constant",
                "color" : "rgba(0, 0, 0, 0.87)",
                "colorFunction" : "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
              },
              "showChevron" : false,
              "chevronSize" : 24,
              "chevronSizeUnit" : "px",
              "chevronColor" : "rgba(0, 0, 0, 0.38)",
              "layout" : "column"
            },
            "title" : "Alarm count",
            "dropShadow" : true,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "units" : "",
            "decimals" : null,
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "widgetStyle" : { },
            "actions" : {
              "cardClick" : [ {
                "name" : "alarms",
                "icon" : "more_horiz",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "openDashboardState",
                "targetDashboardStateId" : "moisture_sensor_details_alarms",
                "setEntityId" : true,
                "stateEntityParamName" : null,
                "openRightLayout" : false,
                "popoverPreferredPlacement" : "right",
                "popoverHideOnClickOutside" : true,
                "popoverHideDashboardToolbar" : true,
                "popoverWidth" : "50vw",
                "popoverHeight" : "30vh",
                "popoverStyle" : { },
                "openInSeparateDialog" : false,
                "openInPopover" : true,
                "id" : "c53fe484-e193-ef07-dbd8-8c2f4cfd36b4"
              } ]
            },
            "configMode" : "advanced",
            "displayTimewindow" : true,
            "margin" : "0px",
            "borderRadius" : "0px",
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "titleFont" : {
              "size" : 12,
              "sizeUnit" : "px",
              "family" : null,
              "weight" : null,
              "style" : null,
              "lineHeight" : "1"
            },
            "titleIcon" : "",
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "14px",
            "timewindowStyle" : {
              "showIcon" : true,
              "iconSize" : "14px",
              "icon" : "query_builder",
              "iconPosition" : "left",
              "font" : {
                "size" : 12,
                "sizeUnit" : "px",
                "family" : null,
                "weight" : null,
                "style" : null,
                "lineHeight" : "1"
              },
              "color" : null
            },
            "titleColor" : "rgba(0, 0, 0, 0.54)"
          },
          "row" : 0,
          "col" : 0,
          "id" : "ce67403e-e2ea-d338-abfc-5461b6bb476d"
        },
        "78587634-4e8e-5684-05b0-6e1d75efe281" : {
          "typeFullFqn" : "system.soil_moisture_progress_bar_with_background",
          "type" : "latest",
          "sizeX" : 3,
          "sizeY" : 2,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : "",
              "entityAliasId" : "4fba01b8-b087-61ab-bedb-838dbba32440",
              "dataKeys" : [ {
                "name" : "avgMoisture",
                "type" : "timeseries",
                "label" : "Soil Moisture",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.18675940968688032,
                "aggregationType" : "NONE",
                "units" : null,
                "decimals" : null,
                "funcBody" : null,
                "usePostProcessing" : null,
                "postFuncBody" : null
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1717676283398,
                  "endTimeMs" : 1717762683398
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : true,
            "backgroundColor" : "rgba(0, 0, 0, 0)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "layout" : "default",
              "autoScale" : true,
              "showValue" : true,
              "valueFont" : {
                "family" : "Roboto",
                "size" : 24,
                "sizeUnit" : "px",
                "style" : "normal",
                "weight" : "500",
                "lineHeight" : "32px"
              },
              "valueColor" : {
                "type" : "range",
                "color" : "rgba(0, 0, 0, 0.87)",
                "colorFunction" : "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';",
                "rangeList" : [ {
                  "from" : 0,
                  "to" : 20,
                  "color" : "#DE2343"
                }, {
                  "from" : 20,
                  "to" : 40,
                  "color" : "#F77410"
                }, {
                  "from" : 40,
                  "to" : 60,
                  "color" : "#4369DD"
                }, {
                  "from" : 60,
                  "to" : 100,
                  "color" : "#224AC2"
                } ]
              },
              "tickMin" : 0,
              "tickMax" : 100,
              "showTicks" : true,
              "ticksFont" : {
                "family" : "Roboto",
                "size" : 11,
                "sizeUnit" : "px",
                "style" : "normal",
                "weight" : "400",
                "lineHeight" : "16px"
              },
              "ticksColor" : "rgba(0,0,0,0.54)",
              "background" : {
                "type" : "image",
                "imageUrl" : "tb-image:c29pbF9tb2lzdHVyZV9wcm9ncmVzc19iYXJfd2l0aF9iYWNrZ3JvdW5kX3N5c3RlbV93aWRnZXRfYmFja2dyb3VuZC5wbmc=:IlNvaWwgbW9pc3R1cmUgcHJvZ3Jlc3MgYmFyIHdpdGggYmFja2dyb3VuZCIgc3lzdGVtIHdpZGdldCBiYWNrZ3JvdW5k;data:image/png;base64,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",
                "color" : "#fff",
                "overlay" : {
                  "enabled" : true,
                  "color" : "rgba(255,255,255,0.72)",
                  "blur" : 3
                }
              },
              "barColor" : {
                "type" : "range",
                "color" : "rgba(0, 0, 0, 0.87)",
                "rangeList" : [ {
                  "from" : 0,
                  "to" : 20,
                  "color" : "#DE2343"
                }, {
                  "from" : 20,
                  "to" : 40,
                  "color" : "#F77410"
                }, {
                  "from" : 40,
                  "to" : 60,
                  "color" : "#4369DD"
                }, {
                  "from" : 60,
                  "to" : 100,
                  "color" : "#224AC2"
                } ],
                "colorFunction" : "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
              },
              "barBackground" : "rgba(0, 0, 0, 0.04)"
            },
            "title" : "Average Soil Moisture",
            "dropShadow" : true,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "units" : "%",
            "decimals" : 0,
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "widgetStyle" : { },
            "actions" : { },
            "configMode" : "advanced",
            "displayTimewindow" : true,
            "margin" : "0px",
            "borderRadius" : "0px",
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "titleFont" : {
              "size" : 16,
              "sizeUnit" : "px",
              "family" : "Roboto",
              "weight" : "500",
              "style" : "normal",
              "lineHeight" : "24px"
            },
            "titleIcon" : "mdi:water-percent",
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "18px",
            "timewindowStyle" : {
              "showIcon" : true,
              "iconSize" : "14px",
              "icon" : "query_builder",
              "iconPosition" : "left",
              "font" : {
                "size" : 12,
                "sizeUnit" : "px",
                "family" : null,
                "weight" : null,
                "style" : null,
                "lineHeight" : "1"
              },
              "color" : null
            },
            "titleColor" : "rgba(0, 0, 0, 0.87)"
          },
          "row" : 0,
          "col" : 0,
          "id" : "78587634-4e8e-5684-05b0-6e1d75efe281"
        },
        "4d4e6352-18e6-d75e-d817-ac9118079bf7" : {
          "typeFullFqn" : "system.alarm_widgets.alarms_table",
          "type" : "alarm",
          "sizeX" : 10.5,
          "sizeY" : 6.5,
          "config" : {
            "timewindow" : {
              "realtime" : {
                "interval" : 1000,
                "timewindowMs" : 86400000
              },
              "aggregation" : {
                "type" : "NONE",
                "limit" : 200
              }
            },
            "showTitle" : true,
            "backgroundColor" : "rgb(255, 255, 255)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "4px",
            "settings" : {
              "enableSelection" : true,
              "enableSearch" : true,
              "displayDetails" : true,
              "allowAcknowledgment" : true,
              "allowClear" : true,
              "allowAssign" : true,
              "displayActivity" : true,
              "displayPagination" : true,
              "defaultPageSize" : 10,
              "defaultSortOrder" : "-createdTime",
              "enableSelectColumnDisplay" : true,
              "enableStickyAction" : false,
              "enableFilter" : true,
              "entitiesTitle" : null,
              "alarmsTitle" : "Alarms"
            },
            "title" : "Alarms table",
            "dropShadow" : true,
            "enableFullscreen" : true,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400,
              "padding" : "5px 10px 5px 10px"
            },
            "useDashboardTimewindow" : false,
            "showLegend" : false,
            "alarmSource" : {
              "type" : "entity",
              "name" : "",
              "entityAliasId" : "4fba01b8-b087-61ab-bedb-838dbba32440",
              "dataKeys" : [ {
                "name" : "createdTime",
                "type" : "alarm",
                "label" : "Created time",
                "color" : "#2196f3",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : ""
                },
                "_hash" : 0.021092237451093787,
                "funcBody" : null
              }, {
                "name" : "originator",
                "type" : "alarm",
                "label" : "Originator",
                "color" : "#4caf50",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : ""
                },
                "_hash" : 0.2780007688856758,
                "funcBody" : null
              }, {
                "name" : "type",
                "type" : "alarm",
                "label" : "Type",
                "color" : "#f44336",
                "settings" : {
                  "useCellStyleFunction" : false,
                  "cellStyleFunction" : "",
                  "useCellContentFunction" : false,
                  "cellContentFunction" : ""
                },
                "_hash" : 0.7323586880398418,
                "funcBody" : null
              }, {
                "name" : "assignee",
                "type" : "alarm",
                "label" : "Assignee",
                "color" : "#9c27b0",
                "settings" : { },
                "_hash" : 0.5008441077416634,
                "funcBody" : null
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            },
            "alarmsPollingInterval" : 5,
            "showTitleIcon" : false,
            "titleIcon" : "warning",
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "widgetStyle" : { },
            "displayTimewindow" : true,
            "actions" : { },
            "configMode" : "basic",
            "alarmFilterConfig" : {
              "statusList" : [ "ACTIVE", "CLEARED", "ACK", "UNACK" ],
              "severityList" : [ "CRITICAL", "MAJOR", "MINOR", "WARNING", "INDETERMINATE" ],
              "typeList" : [ ],
              "searchPropagatedAlarms" : false,
              "assignedToCurrentUser" : false,
              "assigneeId" : null
            },
            "datasources" : [ ],
            "titleFont" : null,
            "titleColor" : null
          },
          "row" : 0,
          "col" : 0,
          "id" : "4d4e6352-18e6-d75e-d817-ac9118079bf7"
        }
      },
      "states" : {
        "default" : {
          "name" : "Irrigation Management",
          "root" : true,
          "layouts" : {
            "main" : {
              "widgets" : {
                "5fc486a3-cfb2-ae7a-21ee-35531e88563e" : {
                  "sizeX" : 12,
                  "sizeY" : 12,
                  "row" : 0,
                  "col" : 0
                },
                "d4dec610-2b77-e9a5-f07b-23ca1035bf04" : {
                  "sizeX" : 12,
                  "sizeY" : 6,
                  "row" : 0,
                  "col" : 12
                },
                "2cc39bd3-f52d-aef6-0800-69f72f5dd740" : {
                  "sizeX" : 12,
                  "sizeY" : 6,
                  "row" : 6,
                  "col" : 12
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#F9FAFE",
                "columns" : 24,
                "margin" : 10,
                "outerMargin" : true,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : false,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70
              }
            }
          }
        },
        "field" : {
          "name" : "${entityName}\t",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "887aa4a0-a4ea-6fac-2795-cabf79cc471b" : {
                  "sizeX" : 9,
                  "sizeY" : 3,
                  "row" : 5,
                  "col" : 8
                },
                "101c8201-362f-84b0-ea50-911c8bb79646" : {
                  "sizeX" : 17,
                  "sizeY" : 12,
                  "row" : 8,
                  "col" : 17
                },
                "820b8500-aabd-1278-4eec-492be180b798" : {
                  "sizeX" : 17,
                  "sizeY" : 8,
                  "row" : 0,
                  "col" : 17
                },
                "73b8134b-f6f6-778a-be76-e8ef23f07613" : {
                  "sizeX" : 17,
                  "sizeY" : 12,
                  "row" : 8,
                  "col" : 0
                },
                "00076f4f-c700-fa54-700f-d626e7c8aa82" : {
                  "sizeX" : 17,
                  "sizeY" : 2,
                  "row" : 0,
                  "col" : 0
                },
                "0ff8f160-374e-7e75-f3c1-6a0ca2519172" : {
                  "sizeX" : 14,
                  "sizeY" : 20,
                  "row" : 0,
                  "col" : 34
                },
                "ce67403e-e2ea-d338-abfc-5461b6bb476d" : {
                  "sizeX" : 8,
                  "sizeY" : 3,
                  "row" : 5,
                  "col" : 0
                },
                "78587634-4e8e-5684-05b0-6e1d75efe281" : {
                  "sizeX" : 17,
                  "sizeY" : 3,
                  "row" : 2,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#EEEEEE",
                "columns" : 48,
                "margin" : 10,
                "outerMargin" : true,
                "backgroundSizeMode" : "100%",
                "autoFillHeight" : true,
                "backgroundImageUrl" : null,
                "mobileAutoFillHeight" : false,
                "mobileRowHeight" : 70
              }
            }
          }
        },
        "field_alarms" : {
          "name" : "${entityName}\t",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : { },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "outerMargin" : true,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "moisture_sensor_details" : {
          "name" : "Moisture sensor details",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : { },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "outerMargin" : true,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "moisture_sensor_details_alarms" : {
          "name" : "Moisture sensor details alarms",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : {
                "4d4e6352-18e6-d75e-d817-ac9118079bf7" : {
                  "sizeX" : 24,
                  "sizeY" : 11,
                  "row" : 0,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "outerMargin" : true,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "moisture_sensor_details_brief" : {
          "name" : "Moisture sensor details brief",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : { },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "outerMargin" : true,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "moisture_sensor_details_moisture" : {
          "name" : "Moisture sensor details moisture",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : { },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "outerMargin" : true,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "sensor_alarms" : {
          "name" : "Sensor alarms",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : { },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "outerMargin" : true,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "setup_field_polygon" : {
          "name" : "Setup field polygon",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : { },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "outerMargin" : true,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        },
        "setup_sensor_location" : {
          "name" : "Setup Sensor Location",
          "root" : false,
          "layouts" : {
            "main" : {
              "widgets" : { },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "outerMargin" : true,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        }
      },
      "entityAliases" : {
        "0813fdcd-9ed7-a737-74fd-13c978a9a1ab" : {
          "id" : "0813fdcd-9ed7-a737-74fd-13c978a9a1ab",
          "alias" : "Fields",
          "filter" : {
            "type" : "assetType",
            "resolveMultiple" : true,
            "assetNameFilter" : "",
            "assetTypes" : [ "SI Field" ]
          }
        },
        "4fba01b8-b087-61ab-bedb-838dbba32440" : {
          "id" : "4fba01b8-b087-61ab-bedb-838dbba32440",
          "alias" : "Current field",
          "filter" : {
            "type" : "stateEntity",
            "resolveMultiple" : false,
            "stateEntityParamName" : null,
            "defaultStateEntity" : null
          }
        },
        "8b5b62ba-5b71-ab4a-dd98-ccd938c46b7f" : {
          "id" : "8b5b62ba-5b71-ab4a-dd98-ccd938c46b7f",
          "alias" : "Moisture Sensors",
          "filter" : {
            "type" : "deviceSearchQuery",
            "resolveMultiple" : true,
            "rootStateEntity" : true,
            "stateEntityParamName" : null,
            "defaultStateEntity" : null,
            "rootEntity" : null,
            "direction" : "FROM",
            "maxLevel" : 1,
            "fetchLastLevelOnly" : false,
            "relationType" : null,
            "deviceTypes" : [ "SI Soil Moisture" ]
          }
        },
        "3cc08b1c-a15b-14d4-59a9-3e3e166305d5" : {
          "id" : "3cc08b1c-a15b-14d4-59a9-3e3e166305d5",
          "alias" : "Moisture Sensor Field",
          "filter" : {
            "type" : "assetSearchQuery",
            "resolveMultiple" : true,
            "rootStateEntity" : true,
            "stateEntityParamName" : null,
            "defaultStateEntity" : null,
            "rootEntity" : null,
            "direction" : "TO",
            "maxLevel" : 1,
            "fetchLastLevelOnly" : false,
            "relationType" : null,
            "assetTypes" : [ "SI Field" ]
          }
        },
        "6ef87f3e-c9ad-9bff-e48b-a3d62423a778" : {
          "id" : "6ef87f3e-c9ad-9bff-e48b-a3d62423a778",
          "alias" : "Current sensor",
          "filter" : {
            "type" : "stateEntity",
            "resolveMultiple" : false,
            "stateEntityParamName" : null,
            "defaultStateEntity" : null
          }
        },
        "6b9d5f01-fcb0-3483-1aea-bbd71bc73250" : {
          "id" : "6b9d5f01-fcb0-3483-1aea-bbd71bc73250",
          "alias" : "Moisture Sensors1",
          "filter" : {
            "type" : "deviceSearchQuery",
            "resolveMultiple" : true,
            "rootStateEntity" : true,
            "stateEntityParamName" : null,
            "defaultStateEntity" : null,
            "rootEntity" : null,
            "direction" : "FROM",
            "maxLevel" : 1,
            "fetchLastLevelOnly" : false,
            "relationType" : null,
            "deviceTypes" : [ "SI Soil Moisture Sensor" ]
          }
        }
      },
      "filters" : { },
      "timewindow" : {
        "hideInterval" : false,
        "hideLastInterval" : false,
        "hideQuickInterval" : false,
        "hideAggregation" : false,
        "hideAggInterval" : false,
        "hideTimezone" : false,
        "selectedTab" : 0,
        "realtime" : {
          "realtimeType" : 0,
          "timewindowMs" : 3600000,
          "quickInterval" : "CURRENT_DAY",
          "interval" : 15000
        },
        "aggregation" : {
          "type" : "AVG",
          "limit" : 25000
        },
        "timezone" : null
      },
      "settings" : {
        "stateControllerId" : "entity",
        "showTitle" : false,
        "showDashboardsSelect" : true,
        "showEntitiesSelect" : false,
        "showDashboardTimewindow" : true,
        "showDashboardExport" : false,
        "toolbarAlwaysOpen" : true,
        "titleColor" : "rgba(0,0,0,0.870588)",
        "showDashboardLogo" : false,
        "dashboardLogoUrl" : null,
        "hideToolbar" : false,
        "showFilters" : false,
        "showUpdateDashboardImage" : false,
        "dashboardCss" : ""
      }
    },
    "externalId" : null,
    "id" : {
      "entityType" : "DASHBOARD",
      "id" : "7af48da0-19e4-11ef-bf4a-3d9f36615f13"
    },
    "image" : null,
    "mobileHide" : false,
    "mobileOrder" : null,
    "name" : "Smart Irrigation",
    "title" : "Smart Irrigation"
  },
  "relations" : [ ],
  "attributes" : {
    "SERVER_SCOPE" : [ ]
  }
}